<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-getting-started/installation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Configure Cloud Storage | Estuary Flow Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.estuary.dev/img/estuary-new.png"><meta data-rh="true" name="twitter:image" content="https://docs.estuary.dev/img/estuary-new.png"><meta data-rh="true" property="og:url" content="https://docs.estuary.dev/getting-started/installation/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Configure Cloud Storage | Estuary Flow Documentation"><meta data-rh="true" name="description" content="Learn how to configure Flow to use your cloud storage"><meta data-rh="true" property="og:description" content="Learn how to configure Flow to use your cloud storage"><link data-rh="true" rel="icon" href="/img/favicon-2.ico"><link data-rh="true" rel="canonical" href="https://docs.estuary.dev/getting-started/installation/"><link data-rh="true" rel="alternate" href="https://docs.estuary.dev/getting-started/installation/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.estuary.dev/getting-started/installation/" hreflang="x-default"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-WK8SB2L",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
<script id="runllm-widget-script" type="module" src="https://widget.runllm.com" runllm-name="Estuary AI Assistant" runllm-assistant-id="253" runllm-position="BOTTOM_RIGHT" runllm-keyboard-shortcut="Mod+j" runllm-preset="docusaurus" async runllm-theme-color="#5072EB" runllm-brand-logo="https://storage.googleapis.com/estuary-marketing-strapi-uploads/uploads//estuary_logo_a373037876/estuary_logo_a373037876.png" runllm-support-email="support@estuary.dev" runllm-community-url="https://go.estuary.dev/slack" runllm-community-type="slack"></script><link rel="stylesheet" href="/assets/css/styles.7552b07e.css">
<script src="/assets/js/runtime~main.78cc6948.js" defer="defer"></script>
<script src="/assets/js/main.5899d91d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK8SB2L" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/estuary-new.png" alt="Estuary Flow Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/estuary-new.png" alt="Estuary Flow Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Estuary Flow</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Documentation</a><div class="navbar__item"><a href="https://estuary.dev/blog">Blog</a></div><div class="navbar__item button-link"><a href="https://dashboard.estuary.dev/register">Try Estuary</a></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/estuary/flow" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/">Getting Started</a><button aria-label="Collapse sidebar category &#x27;Getting Started&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/getting-started/quickstart/">Quickstart for Flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/getting-started/deployment-options/">Deployment options</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/getting-started/who-should-use-flow/">Who should use Flow?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/getting-started/comparisons/">Comparisons</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/getting-started/installation/">Configure Cloud Storage</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/getting-started/tutorials/">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/getting-started/sso-setup/">Log into Estuary Using SSO</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/guides/">User guides</a><button aria-label="Expand sidebar category &#x27;User guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/concepts/">Concepts</a><button aria-label="Expand sidebar category &#x27;Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/reference/Connectors/">Reference</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/"><span itemprop="name">Getting Started</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Configure Cloud Storage</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown">
<h1>Configuring Cloud Storage for Flow</h1>
<p>New Flow accounts are connected to Flow&#x27;s secure cloud storage bucket to store collection data.
To switch to your own bucket, choose a cloud provider and complete the setup steps:</p>
<ul>
<li>
<p><a href="/getting-started/installation/#google-cloud-storage-buckets">Google Cloud Storage</a></p>
</li>
<li>
<p><a href="/getting-started/installation/#amazon-s3-buckets">Amazon S3</a></p>
</li>
<li>
<p><a href="/getting-started/installation/#azure-blob-storage">Azure Blob Storage</a></p>
</li>
</ul>
<p>Once you&#x27;re done, <a href="/getting-started/installation/#add-the-bucket">add the bucket</a> in Estuary.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="google-cloud-storage-buckets">Google Cloud Storage buckets<a class="hash-link" aria-label="Direct link to Google Cloud Storage buckets" title="Direct link to Google Cloud Storage buckets" href="/getting-started/installation/#google-cloud-storage-buckets">​</a></h2>
<p>You&#x27;ll need to grant Estuary Flow access to your GCS bucket.</p>
<ol>
<li>
<p><a href="https://cloud.google.com/storage/docs/creating-buckets" target="_blank" rel="noopener noreferrer">Create a bucket to use with Flow</a>, if you haven&#x27;t already.</p>
</li>
<li>
<p>Follow the steps
to <a href="https://cloud.google.com/storage/docs/access-control/using-iam-permissions#bucket-add" target="_blank" rel="noopener noreferrer">add a principal to a bucket level policy</a>.
As you do so:</p>
<ul>
<li>
<p>For the principal, enter <code>flow-258@helpful-kingdom-273219.iam.gserviceaccount.com</code></p>
</li>
<li>
<p>Select the <a href="https://cloud.google.com/storage/docs/access-control/iam-roles" target="_blank" rel="noopener noreferrer"><code>roles/storage.admin</code></a> role.</p>
</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-s3-buckets">Amazon S3 buckets<a class="hash-link" aria-label="Direct link to Amazon S3 buckets" title="Direct link to Amazon S3 buckets" href="/getting-started/installation/#amazon-s3-buckets">​</a></h2>
<p>You&#x27;ll need to grant Estuary Flow access to your S3 bucket.</p>
<ol>
<li>
<p><a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/create-bucket-overview.html" target="_blank" rel="noopener noreferrer">Create a bucket to use with Flow</a>,
if you haven&#x27;t already.</p>
</li>
<li>
<p>Follow the steps
to <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/add-bucket-policy.html" target="_blank" rel="noopener noreferrer">add a bucket policy</a>, pasting in one of the
policies below. Use either the global policy or the policy specific to the EU Data Plane.
Be sure to replace <code>YOUR-S3-BUCKET</code> with the actual name of your bucket.</p>
</li>
</ol>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Global Data Plane policy</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">EU Data Plane policy</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;Version&quot;: &quot;2012-10-17&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;Statement&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Sid&quot;: &quot;AllowUsersToAccessObjectsUnderPrefix&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Effect&quot;: &quot;Allow&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Principal&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;AWS&quot;: &quot;arn:aws:iam::789740162118:user/flow-aws&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Action&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;s3:GetObject&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;s3:PutObject&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;s3:DeleteObject&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Resource&quot;: &quot;arn:aws:s3:::YOUR-S3-BUCKET/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Effect&quot;: &quot;Allow&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Principal&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;AWS&quot;: &quot;arn:aws:iam::789740162118:user/flow-aws&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Action&quot;: &quot;s3:ListBucket&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Resource&quot;: &quot;arn:aws:s3:::YOUR-S3-BUCKET&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Effect&quot;: &quot;Allow&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Principal&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;AWS&quot;: &quot;arn:aws:iam::789740162118:user/flow-aws&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Action&quot;: &quot;s3:GetBucketPolicy&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Resource&quot;: &quot;arn:aws:s3:::YOUR-S3-BUCKET&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;Version&quot;: &quot;2012-10-17&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;Statement&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Sid&quot;: &quot;AllowUsersToAccessObjectsUnderPrefix&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Effect&quot;: &quot;Allow&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Principal&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;AWS&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;arn:aws:iam::770785070253:user/data-planes/data-plane-342o84ecos0opkov&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;arn:aws:iam::789740162118:user/flow-aws&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Action&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;s3:GetObject&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;s3:PutObject&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;s3:DeleteObject&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Resource&quot;: &quot;arn:aws:s3:::YOUR-S3-BUCKET/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Effect&quot;: &quot;Allow&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Principal&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;AWS&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;arn:aws:iam::770785070253:user/data-planes/data-plane-342o84ecos0opkov&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;arn:aws:iam::789740162118:user/flow-aws&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Action&quot;: &quot;s3:ListBucket&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Resource&quot;: &quot;arn:aws:s3:::YOUR-S3-BUCKET&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Effect&quot;: &quot;Allow&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Principal&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;AWS&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;arn:aws:iam::770785070253:user/data-planes/data-plane-342o84ecos0opkov&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;arn:aws:iam::789740162118:user/flow-aws&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Action&quot;: &quot;s3:GetBucketPolicy&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Resource&quot;: &quot;arn:aws:s3:::YOUR-S3-BUCKET&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="azure-blob-storage">Azure Blob Storage<a class="hash-link" aria-label="Direct link to Azure Blob Storage" title="Direct link to Azure Blob Storage" href="/getting-started/installation/#azure-blob-storage">​</a></h2>
<p>You&#x27;ll need to grant Estuary Flow access to your storage account and container.
You&#x27;ll also need to provide some identifying information.</p>
<ol>
<li>
<p><a href="https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-portal#create-a-container" target="_blank" rel="noopener noreferrer">Create an Azure Blob Storage container</a>
to use with Flow, if you haven&#x27;t already.</p>
</li>
<li>
<p>Gather the following information. You&#x27;ll need this when you contact us to complete setup.</p>
<ul>
<li>
<p>Your <strong>Azure AD tenant ID</strong>. You can find this in the <strong>Azure Active Directory</strong> page.
<img decoding="async" loading="lazy" src="https://storage.googleapis.com/estuary-marketing-strapi-uploads/uploads//Azure_AD_Tenant_ID_1b60184837/Azure_AD_Tenant_ID_1b60184837.png" alt="Azure AD Tenant ID" class="img_ev3q"></p>
</li>
<li>
<p>Your <strong>Azure Blob Storage account ID</strong>. You can find this in the <strong>Storage Accounts</strong> page.
<img decoding="async" loading="lazy" src="https://storage.googleapis.com/estuary-marketing-strapi-uploads/uploads//Azure_Storage_Account_Name_82aa30ae17/Azure_Storage_Account_Name_82aa30ae17.png" alt="Azure Storage Account Name" class="img_ev3q"></p>
</li>
<li>
<p>Your <strong>Azure Blob Storage container ID</strong>. You can find this inside your storage account.
<img decoding="async" loading="lazy" src="https://storage.googleapis.com/estuary-marketing-strapi-uploads/uploads//Azure_Container_ID_1980bbc9f3/Azure_Container_ID_1980bbc9f3.png" alt="Azure Container ID" class="img_ev3q"></p>
</li>
</ul>
<p>You&#x27;ll grant Flow access to your storage resources by connecting to Estuary&#x27;s
<a href="https://learn.microsoft.com/en-us/azure/active-directory/manage-apps/what-is-application-management" target="_blank" rel="noopener noreferrer">Azure application</a>.</p>
</li>
<li>
<p>Add Estuary&#x27;s Azure application to your tenant.</p>
</li>
</ol>
<!-- -->
<!-- -->
<ol start="4">
<li>
<p>Grant the application access to your storage account via the
<a href="https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#storage-blob-data-owner" target="_blank" rel="noopener noreferrer">
<code>Storage Blob Data Owner</code></a>
IAM role.</p>
<ul>
<li>
<p>Inside your storage account&#x27;s <strong>Access Control (IAM)</strong> tab, click <strong>Add Role Assignment</strong>.</p>
</li>
<li>
<p>Search for <code>Storage Blob Data Owner</code> and select it.</p>
</li>
<li>
<p>On the next page, make sure <code>User, group, or service principal</code> is selected, then click <strong>+ Select Members</strong>.</p>
</li>
<li>
<p>You must search for the exact name of the application, otherwise it won&#x27;t show up: <code>Estuary Storage Mappings Prod</code></p>
</li>
<li>
<p>Once you&#x27;ve selected the application, finish granting the role.</p>
</li>
</ul>
<p>For more help, see
the <a href="https://learn.microsoft.com/en-us/azure/role-based-access-control/role-assignments-portal" target="_blank" rel="noopener noreferrer">Azure docs</a>.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="add-the-bucket">Add the Bucket<a class="hash-link" aria-label="Direct link to Add the Bucket" title="Direct link to Add the Bucket" href="/getting-started/installation/#add-the-bucket">​</a></h2>
<p>If your bucket is for Google Cloud Storage or AWS S3, you can add it yourself. Once you&#x27;ve finished the above steps,
head to &quot;Admin&quot;, &quot;Settings&quot; then &quot;Configure Cloud Storage&quot;
and enter the relevant information there and we&#x27;ll start to use your bucket for all data going forward.</p>
<p>If your bucket is for Azure, send <a href="mailto:support@estuary.dev" target="_blank" rel="noopener noreferrer">support@estuary.dev</a> an email with the name of the storage bucket and any other
information you gathered per the steps above.
Let us know whether you want to use this storage bucket to for your whole Flow account, or just a
specific <a href="/concepts/catalogs/#namespace">prefix</a>.
We&#x27;ll be in touch when it&#x27;s done!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="migrating-your-existing-data-to-the-new-storage-mapping">Migrating your existing data to the new storage mapping<a class="hash-link" aria-label="Direct link to Migrating your existing data to the new storage mapping" title="Direct link to Migrating your existing data to the new storage mapping" href="/getting-started/installation/#migrating-your-existing-data-to-the-new-storage-mapping">​</a></h2>
<p>Once you&#x27;ve created your new storage mapping, your collections will be updated to pick up the new storage mapping,
so new data will be written there. Existing data from your previous storage mapping is not automatically migrated,
to do so you should backfill all of your captures after configuring a storage mapping. Most tenants will have been
using the estuary-public storage mapping on the Free plan to begin with, which expires data after 20 days. By
backfilling all of your captures you guarantee that even though the data from estuary-public will expire, you’ll
still have a full view of your data available on your new storage mapping.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/estuary/flow/edit/master/site/docs/getting-started/installation.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/getting-started/comparisons/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Comparisons</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/getting-started/tutorials/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Flow tutorials</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/getting-started/installation/#google-cloud-storage-buckets">Google Cloud Storage buckets</a></li><li><a class="table-of-contents__link toc-highlight" href="/getting-started/installation/#amazon-s3-buckets">Amazon S3 buckets</a></li><li><a class="table-of-contents__link toc-highlight" href="/getting-started/installation/#azure-blob-storage">Azure Blob Storage</a></li><li><a class="table-of-contents__link toc-highlight" href="/getting-started/installation/#add-the-bucket">Add the Bucket</a></li><li><a class="table-of-contents__link toc-highlight" href="/getting-started/installation/#migrating-your-existing-data-to-the-new-storage-mapping">Migrating your existing data to the new storage mapping</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Flow Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://go.estuary.dev/slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/EstuaryDev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/estuary/flow" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@estuarydev" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Estuary Technologies, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>