test://example/catalog.yaml:
  endpoints:
    "my bucket":
      s3:
        bucket: foobar
        prefix: path/prefix

    "my Postgres":
      postgres:
        host: localhost
        user: somebody
        password: whoops

    "my sqlite":
      sqlite:
        path: relative/to/scope.db

  captures:
    - target:
        name: a/collection
      endpoint: { name: my bucket }
    - target:
        name: other/collection
      endpoint:
        name: my DB
        config: { extra: "stuff" }

  materializations:
    # No partition selector and default fields behavior.
    - source:
        name: source/collection
      endpoint:
        name: my DB
        config: { table: "table_one" }
    # Explicit selector and fields.
    - source:
        name: source/collection
        partitions:
          include: { "a_field": ["some-val"] }
          exclude: { "other": [42] }
      endpoint:
        name: my DB
        config: { table: "table_two" }
      fields:
        include:
          add: {}
        exclude: [del]
        recommended: true
