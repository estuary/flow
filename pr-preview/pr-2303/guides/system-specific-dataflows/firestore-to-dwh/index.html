<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/system-specific-dataflows/firestore-to-dwh" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Google Cloud Firestore to Snowflake | Estuary Flow Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.estuary.dev/pr-preview/pr-2303/img/estuary-new.png"><meta data-rh="true" name="twitter:image" content="https://docs.estuary.dev/pr-preview/pr-2303/img/estuary-new.png"><meta data-rh="true" property="og:url" content="https://docs.estuary.dev/pr-preview/pr-2303/guides/system-specific-dataflows/firestore-to-dwh/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Google Cloud Firestore to Snowflake | Estuary Flow Documentation"><meta data-rh="true" name="description" content="This guide walks you through the process of creating an"><meta data-rh="true" property="og:description" content="This guide walks you through the process of creating an"><link data-rh="true" rel="icon" href="/pr-preview/pr-2303/img/favicon-2.ico"><link data-rh="true" rel="canonical" href="https://docs.estuary.dev/pr-preview/pr-2303/guides/system-specific-dataflows/firestore-to-dwh/"><link data-rh="true" rel="alternate" href="https://docs.estuary.dev/pr-preview/pr-2303/guides/system-specific-dataflows/firestore-to-dwh/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.estuary.dev/pr-preview/pr-2303/guides/system-specific-dataflows/firestore-to-dwh/" hreflang="x-default"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-WK8SB2L",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>
<script id="ai-widget-script" async src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="349e5b72-3e5a-4c19-8b7a-27c7b90caa0f" data-project-name="Estuary" data-modal-title="Estuary AI Assistant" data-project-color="#5072EB" data-button-text-color="#F2F2F2" data-project-logo="https://docs.estuary.dev/img/estuary-new.png" data-modal-example-questions-title="Try asking me..." data-modal-disclaimer="This AI assistant answers questions using Estuary&#39;s [documentation](https://docs.estuary.dev/), [blogs](https://estuary.dev/blog/), and additional resources. If you can&#39;t find your answer, join us on [Slack](https://go.estuary.dev/slack)." data-modal-example-questions="How does CDC work in Estuary?,How can I deploy to a private cloud?,How do I connect to PostgreSQL?,Is Estuary Flow scalable?" data-uncertain-answer-callout="I may not have all of the information on that topic. I bet someone can answer it in [Slack](https://go.estuary.dev/slack)."></script><link rel="stylesheet" href="/pr-preview/pr-2303/assets/css/styles.5ecd8a62.css">
<script src="/pr-preview/pr-2303/assets/js/runtime~main.dcd3ebce.js" defer="defer"></script>
<script src="/pr-preview/pr-2303/assets/js/main.c8e0de45.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK8SB2L" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pr-preview/pr-2303/"><div class="navbar__logo"><img src="/pr-preview/pr-2303/img/estuary-new.png" alt="Estuary Flow Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/pr-preview/pr-2303/img/estuary-new.png" alt="Estuary Flow Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Estuary Flow</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pr-preview/pr-2303/">Documentation</a><div class="navbar__item"><a href="https://estuary.dev/blog" target="_blank">Blog</a></div><div class="navbar__item button-link"><a href="https://dashboard.estuary.dev/register">Try Estuary</a></div></div><div class="navbar__items navbar__items--right"><a href="https://status.estuary.dev/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/estuary/flow" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/pr-preview/pr-2303/">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/pr-preview/pr-2303/guides/">User guides</a><button aria-label="Collapse sidebar category &#x27;User guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2303/guides/create-dataflow/">Create a basic Data Flow</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/pr-preview/pr-2303/guides/system-specific-dataflows/">Create a Data Flow for specific systems</a><button aria-label="Collapse sidebar category &#x27;Create a Data Flow for specific systems&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pr-preview/pr-2303/guides/system-specific-dataflows/firestore-to-dwh/">Google Cloud Firestore to Snowflake</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2303/guides/system-specific-dataflows/s3-to-snowflake/">Amazon S3 to Snowflake</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2303/guides/edit-data-flows/">Edit Data Flows in the web app</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/pr-preview/pr-2303/guides/flowctl/">Use flowctl</a><button aria-label="Expand sidebar category &#x27;Use flowctl&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2303/guides/connect-network/">Secure connections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2303/guides/customize-materialization-fields/">Customize materialized fields</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2303/guides/dbt-integration/">dbt Cloud Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2303/guides/dekaf_reading_collections_from_kafka/">Connecting to Estuary Flow from Kafka using Dekaf</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2303/guides/derivation_tutorial_sql/">How to transform data using SQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2303/guides/flatten-array/">How to flatten an array using TypeScript</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2303/guides/get-started-with-flowctl/">Getting Started With flowctl</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2303/guides/how_to_generate_refresh_token/">How to generate an Estuary Flow Refresh Token</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2303/guides/howto_join_two_collections_typescript/">How to join two collections (TypeScript)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2303/guides/schema-evolution/">Schema evolution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2303/guides/transform_data_using_typescript/">How to transform data using TypeScript</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/pr-preview/pr-2303/concepts/">Concepts</a><button aria-label="Expand sidebar category &#x27;Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/pr-preview/pr-2303/private-byoc/">Private &amp; BYOC Deployments</a><button aria-label="Expand sidebar category &#x27;Private &amp; BYOC Deployments&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pr-preview/pr-2303/reference/Connectors/">Reference</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/pr-preview/pr-2303/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/pr-preview/pr-2303/guides/"><span itemprop="name">User guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/pr-preview/pr-2303/guides/system-specific-dataflows/"><span itemprop="name">Create a Data Flow for specific systems</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Google Cloud Firestore to Snowflake</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Google Cloud Firestore to Snowflake</h1></header>
<p>This guide walks you through the process of creating an
end-to-end real-time Data Flow from Google Cloud Firestore to Snowflake using Estuary Flow.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<p>You&#x27;ll need:</p>
<ul>
<li>
<p>(Recommended) understanding of the <a href="/pr-preview/pr-2303/concepts/#essential-concepts">basic Flow concepts</a>.</p>
</li>
<li>
<p>Access to the <a href="http://dashboard.estuary.dev" target="_blank" rel="noopener noreferrer"><strong>Flow web application</strong></a> through an Estuary account.
If you don&#x27;t have one, visit the web app to register for free.</p>
</li>
<li>
<p>A <strong>Firestore database</strong> that contains the data you&#x27;d like to move to Snowflake. You <a href="https://cloud.google.com/firestore/docs/create-database-web-mobile-client-library" target="_blank" rel="noopener noreferrer">create this as part of a Google Firebase project</a>.</p>
</li>
<li>
<p>A Google service account with:</p>
<ul>
<li>
<p>Read access to your Firestore database, via <a href="https://cloud.google.com/datastore/docs/access/iam" target="_blank" rel="noopener noreferrer">roles/datastore.viewer</a>.
You can assign this role when you <a href="https://cloud.google.com/iam/docs/creating-managing-service-accounts#creating" target="_blank" rel="noopener noreferrer">create the service account</a>, or <a href="https://cloud.google.com/iam/docs/granting-changing-revoking-access#single-role" target="_blank" rel="noopener noreferrer">add it to an existing service account</a>.</p>
</li>
<li>
<p>A generated <a href="https://cloud.google.com/iam/docs/creating-managing-service-account-keys#creating" target="_blank" rel="noopener noreferrer">JSON service account key</a> for the account.</p>
</li>
</ul>
</li>
<li>
<p>A Snowflake account with:</p>
<ul>
<li>
<p>A target <strong>database</strong>, <strong>schema</strong>, and virtual <strong>warehouse</strong>; and a <strong>user</strong> with a <strong>role</strong> assigned that grants the appropriate access levels to these resources.
<a href="/pr-preview/pr-2303/reference/Connectors/materialization-connectors/Snowflake/#setup">You can use a script to quickly create all of these items.</a> Have these details on hand for setup with Flow.</p>
</li>
<li>
<p>The account identifier and host URL noted. <a href="https://docs.snowflake.com/en/user-guide/admin-account-identifier.html#where-are-account-identifiers-used" target="_blank" rel="noopener noreferrer">The URL is formatted using the account identifier</a>. For example, you might have the account identifier <code>orgname-accountname.snowflakecomputing.com</code>.</p>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>In Estuary Flow, you create <strong>Data Flows</strong> to transfer data from <strong>source</strong> systems to <strong>destination</strong> systems in real time.
In this use case, your source is a Google Cloud Firestore NoSQL database and your destination is a Snowflake data warehouse.</p>
<p>After following this guide, you&#x27;ll have a Data Flow that comprises:</p>
<ul>
<li>A <strong>capture</strong>, which ingests data from Firestore</li>
<li>Several <strong>collections</strong>, cloud-backed copies of <a href="https://cloud.google.com/firestore/docs/data-model" target="_blank" rel="noopener noreferrer">Firestore collections</a> in the Flow system</li>
<li>A <strong>materialization</strong>, which pushes the collections to Snowflake</li>
</ul>
<p>The capture and materialization rely on plug-in components called <strong>connectors</strong>.
We&#x27;ll walk through how to configure the <a href="/pr-preview/pr-2303/reference/Connectors/capture-connectors/google-firestore/">Firestore</a> and <a href="/pr-preview/pr-2303/reference/Connectors/materialization-connectors/Snowflake/">Snowflake</a> connectors to integrate these systems with Flow.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="capture-from-firestore">Capture from Firestore<a href="#capture-from-firestore" class="hash-link" aria-label="Direct link to Capture from Firestore" title="Direct link to Capture from Firestore">​</a></h2>
<p>You&#x27;ll first create a capture to connect to your Firestore database, which will yield one Flow collection for each <a href="https://cloud.google.com/firestore/docs/data-model" target="_blank" rel="noopener noreferrer">Firestore collection</a> in your database.</p>
<ol>
<li>
<p>Go to the Flow web application at <a href="https://dashboard.estuary.dev/" target="_blank" rel="noopener noreferrer">dashboard.estuary.dev</a> and sign in using the
credentials provided by your Estuary account manager.</p>
</li>
<li>
<p>Click the <strong>Sources</strong> tab and choose <strong>New Capture</strong>.</p>
</li>
<li>
<p>Find the <strong>Google Firestore</strong> tile and click <strong>Capture</strong>.</p>
<p>A form appears with the properties required for a Firestore capture.</p>
</li>
<li>
<p>Type a name for your capture.</p>
<p>Your capture name must begin with a <a href="/pr-preview/pr-2303/concepts/catalogs/#namespace">prefix</a> to which you <a href="/pr-preview/pr-2303/reference/authentication/">have access</a>.</p>
<p>In the <strong>Name</strong> field, use the drop-down to select your prefix.
Append a unique capture name after the <code>/</code> to create the full name, for example, <code>acmeCo/myFirestoreCapture</code>.</p>
</li>
<li>
<p>Fill out the required properties for Firestore.</p>
<ul>
<li>
<p><strong>Database</strong>: Flow can autodetect the database name, but you may optionally specify it here. This is helpful if the service account used has access to multiple Firebase projects. Your database name usually follows the format <code>projects/$PROJECTID/databases/(default)</code>.</p>
</li>
<li>
<p><strong>Credentials</strong>: The JSON service account key created per the <a href="#prerequisites">prerequisites</a>.</p>
</li>
</ul>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
<p>Flow uses the provided configuration to initiate a connection with Firestore.</p>
<p>It maps each available Firestore collection to a possible Flow collection. It also generates minimal schemas for each collection.</p>
<p>You can use the <strong>Source Collections</strong> browser to remove or modify collections. You&#x27;ll have the chance to tighten up each collection&#x27;s JSON schema later, when you materialize to Snowflake.</p>
</li>
</ol>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If you make any changes to collections, click <strong>Next</strong> again.</p></div></div>
<ol start="7">
<li>
<p>Once you&#x27;re satisfied with the collections to be captured, click <strong>Save and Publish</strong>.</p>
<p>You&#x27;ll see a notification when the capture publishes successfully.</p>
<p>The data currently in your Firestore database has been captured, and future updates to it will be captured continuously.</p>
</li>
<li>
<p>Click <strong>Materialize Collections</strong> to continue.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="materialize-to-snowflake">Materialize to Snowflake<a href="#materialize-to-snowflake" class="hash-link" aria-label="Direct link to Materialize to Snowflake" title="Direct link to Materialize to Snowflake">​</a></h2>
<p>Next, you&#x27;ll add a Snowflake materialization to connect the captured data to its destination: your data warehouse.</p>
<ol>
<li>
<p>Locate the <strong>Snowflake</strong> tile and click <strong>Materialization</strong>.</p>
<p>A form appears with the properties required for a Snowflake materialization.</p>
</li>
<li>
<p>Choose a unique name for your materialization like you did when naming your capture; for example, <code>acmeCo/mySnowflakeMaterialization</code>.</p>
</li>
<li>
<p>Fill out the required properties for Snowflake (you should have most of these handy from the <a href="#prerequisites">prerequisites</a>).</p>
<ul>
<li><strong>Host URL</strong></li>
<li><strong>Account</strong></li>
<li><strong>User</strong></li>
<li><strong>Password</strong></li>
<li><strong>Database</strong></li>
<li><strong>Schema</strong></li>
<li><strong>Warehouse</strong>: optional</li>
<li><strong>Role</strong>: optional</li>
</ul>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
<p>Flow uses the provided configuration to initiate a connection to Snowflake.</p>
<p>You&#x27;ll be notified if there&#x27;s an error. In that case, fix the configuration form or Snowflake setup as needed and click <strong>Next</strong> to try again.</p>
<p>Once the connection is successful, the Endpoint Config collapses and the <strong>Source Collections</strong> browser becomes prominent.
It shows the collections you captured previously.
Each of them will be mapped to a Snowflake table.</p>
</li>
<li>
<p>In the <strong>Source Collections</strong> browser, optionally change the name in the <strong>Table</strong> field for each collection.</p>
<p>These will be the names of the output tables in Snowflake.</p>
</li>
<li>
<p>For each table, choose whether to <a href="/pr-preview/pr-2303/reference/Connectors/materialization-connectors/Snowflake/#delta-updates">enable delta updates</a>.</p>
</li>
<li>
<p>For each collection, apply a stricter schema to be used for the materialization.</p>
<p>Firestore has a flat data structure.
To materialize data effectively from Firestore to Snowflake, you should apply a schema that can translate to a table structure.
Flow&#x27;s <strong>Schema Inference</strong> tool can help.</p>
<ol>
<li>
<p>In the Source Collections browser, choose a collection and click its <strong>Collection</strong> tab.</p>
</li>
<li>
<p>Click <strong>Schema Inference</strong></p>
<p>The Schema Inference window appears. Flow scans the data in your collection and infers a new schema, called the <code>readSchema</code>, to use for the materialization.</p>
</li>
<li>
<p>Review the new schema and click <strong>Apply Inferred Schema</strong>.</p>
</li>
</ol>
</li>
<li>
<p>Click <strong>Next</strong> to apply the changes you made to collections.</p>
</li>
<li>
<p>Click <strong>Save and Publish</strong>. You&#x27;ll see a notification when the full Data Flow publishes successfully.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-next">What&#x27;s next?<a href="#whats-next" class="hash-link" aria-label="Direct link to What&#x27;s next?" title="Direct link to What&#x27;s next?">​</a></h2>
<p>Your Data Flow has been deployed, and will run continuously until it&#x27;s stopped. Updates in your Firestore database will be reflected in your Snowflake table as they occur.</p>
<p>You can advance your Data Flow by adding a <strong>derivation</strong>. Derivations are real-time data transformations.
See the <a href="/pr-preview/pr-2303/guides/flowctl/create-derivation/">guide to create a derivation</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/estuary/flow/edit/master/site/docs/guides/system-specific-dataflows/firestore-to-dwh.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/pr-preview/pr-2303/guides/system-specific-dataflows/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">System-specific Data Flows</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pr-preview/pr-2303/guides/system-specific-dataflows/s3-to-snowflake/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Amazon S3 to Snowflake</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#capture-from-firestore" class="table-of-contents__link toc-highlight">Capture from Firestore</a></li><li><a href="#materialize-to-snowflake" class="table-of-contents__link toc-highlight">Materialize to Snowflake</a></li><li><a href="#whats-next" class="table-of-contents__link toc-highlight">What&#39;s next?</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/pr-preview/pr-2303/">Flow Documentation</a></li><li class="footer__item"><a href="https://estuary.dev/success-stories/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Success Stories<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://go.estuary.dev/slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/estuary-tech/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/EstuaryDev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/estuary/flow" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@estuarydev" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://estuary.dev/contact-us/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Estuary Technologies, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>