"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[9023],{28453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>c});var r=n(96540);const t={},o=r.createContext(t);function i(e){const s=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(o.Provider,{value:s},e.children)}},82928:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"reference/Connectors/capture-connectors/google-ads","title":"Google Ads","description":"This connector captures data from resources in one or more Google Ads accounts into Estuary collections via the Google Ads API.","source":"@site/docs/reference/Connectors/capture-connectors/google-ads.md","sourceDirName":"reference/Connectors/capture-connectors","slug":"/reference/Connectors/capture-connectors/google-ads","permalink":"/pr-preview/pr-2635/reference/Connectors/capture-connectors/google-ads","draft":false,"unlisted":false,"editUrl":"https://github.com/estuary/flow/edit/master/site/docs/reference/Connectors/capture-connectors/google-ads.md","tags":[],"version":"current","frontMatter":{},"sidebar":"referenceSidebar","previous":{"title":"Gladly","permalink":"/pr-preview/pr-2635/reference/Connectors/capture-connectors/gladly"},"next":{"title":"Google Analytics 4","permalink":"/pr-preview/pr-2635/reference/Connectors/capture-connectors/google-analytics-4"}}');var t=n(74848),o=n(28453);const i={},c="Google Ads",d={},l=[{value:"Supported data resources",id:"supported-data-resources",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Customer Id &amp; Login Customer Id",id:"customer-id--login-customer-id",level:3},{value:"Multiple Customer Ids",id:"multiple-customer-ids",level:4},{value:"Using OAuth2 to authenticate with Google in the Estuary web app",id:"using-oauth2-to-authenticate-with-google-in-the-estuary-web-app",level:3},{value:"Configuring the connector specification manually via the CLI",id:"configuring-the-connector-specification-manually-via-the-cli",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Properties",id:"properties",level:3},{value:"Endpoint",id:"endpoint",level:4},{value:"Bindings",id:"bindings",level:4},{value:"Sample",id:"sample",level:3},{value:"Custom queries",id:"custom-queries",level:2},{value:"Incremental vs. Snapshot Streams",id:"incremental-vs-snapshot-streams",level:3},{value:"Stream Limitations",id:"stream-limitations",level:2},{value:"ClickView",id:"clickview",level:3}];function a(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"google-ads",children:"Google Ads"})}),"\n",(0,t.jsxs)(s.p,{children:["This connector captures data from ",(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/fields/v11/overview",children:"resources"})," in one or more Google Ads accounts into Estuary collections via the Google Ads API."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.a,{href:"https://ghcr.io/estuary/source-google-ads:dev",children:(0,t.jsx)(s.code,{children:"ghcr.io/estuary/source-google-ads:dev"})})," provides the latest connector image. You can also follow the link in your browser to see past image versions."]}),"\n",(0,t.jsx)(s.h2,{id:"supported-data-resources",children:"Supported data resources"}),"\n",(0,t.jsxs)(s.p,{children:["The following data resources are supported.\nResources ending in ",(0,t.jsx)(s.code,{children:"_report"})," represent legacy resources from the ",(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/docs/migration",children:"Google Adwords API"}),"."]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/fields/latest/ad_group_ad",children:"ad_group_ads"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/fields/latest/ad_group_ad_label",children:"ad_group_ad_label"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/fields/latest/ad_group",children:"ad_groups"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/fields/latest/ad_group_label",children:"ad_group_label"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/fields/v9/campaign",children:"campaigns"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/fields/latest/campaign_label",children:"campaign_labels"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/reference/rpc/latest/ClickView",children:"click_view"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/fields/latest/customer",children:"customer"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/fields/latest/geographic_view",children:"geographic_view"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/fields/v22/geo_target_constant",children:"geo_target_constant"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/fields/latest/keyword_view",children:"keyword_view"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/fields/latest/user_location_view",children:"user_location_view"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/docs/migration/mapping#account_performance",children:"account_performance_report"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/docs/migration/mapping#ad_performance",children:"ad_performance_report"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/docs/migration/mapping#display_keyword_performance",children:"display_keyword_performance_report"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/docs/migration/mapping#display_topics_performance",children:"display_topics_performance_report"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/docs/migration/mapping#shopping_performance",children:"shopping_performance_report"})}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"By default, each resource is mapped to an Estuary collection through a separate binding."}),"\n",(0,t.jsxs)(s.p,{children:["You may also generate custom resources using ",(0,t.jsx)(s.a,{href:"#custom-queries",children:"GAQL queries"}),"."]}),"\n",(0,t.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(s.p,{children:["There are two ways to authenticate with Google when capturing data into Estuary: using OAuth2, and manually with the ",(0,t.jsx)(s.code,{children:"flowctl"})," CLI, using tokens and secret credentials.\nTheir prerequisites differ."]}),"\n",(0,t.jsx)(s.p,{children:"OAuth is recommended for simplicity in the Estuary web app;\nthe manual method is the only supported method using the command line."}),"\n",(0,t.jsx)(s.h3,{id:"customer-id--login-customer-id",children:"Customer Id & Login Customer Id"}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"Login Customer Id"})," setting refers to your MCC Google Ads account Id.\nOne can easily find this number by accessing their Google Ads Dashboard and look to the far right corner of their screen."]}),"\n",(0,t.jsx)(s.p,{children:"Example:"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://github.com/estuary/flow/assets/14100959/f20aeeef-eeac-432f-b547-11477e31661d",alt:"Screenshot from 2024-02-19 05-10-29"})}),"\n",(0,t.jsxs)(s.p,{children:["In the above example, the ",(0,t.jsx)(s.code,{children:"login_customer_id"})," would be 1234567890."]}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"Customer Id"})," setting refers to your Client Accounts under a MCC account.\nOne can easily find this number by accessing their Google Ads Dashboard and look to the far left corner of their screen,\nafter selecting a client account."]}),"\n",(0,t.jsx)(s.p,{children:"Example:"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://github.com/estuary/flow/assets/14100959/4f171fa7-9c82-4f24-8a1d-8aacd382fb28",alt:"Screenshot from 2024-02-19 05-10-16"})}),"\n",(0,t.jsxs)(s.p,{children:["In the above example, the ",(0,t.jsx)(s.code,{children:"customer_id"})," would be 9876543210."]}),"\n",(0,t.jsx)(s.h4,{id:"multiple-customer-ids",children:"Multiple Customer Ids"}),"\n",(0,t.jsx)(s.p,{children:"This Source allows for multiple Customer Ids to be selected.\nIn the Customer Id field, provide Ids as a comma-delimited list."}),"\n",(0,t.jsx)(s.p,{children:"Example:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Customer1 = 1234567890"}),"\n",(0,t.jsx)(s.li,{children:"Customer2 = 9876543210"}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"customer_id: 1234567890,9876543210"})}),"\n",(0,t.jsx)(s.h3,{id:"using-oauth2-to-authenticate-with-google-in-the-estuary-web-app",children:"Using OAuth2 to authenticate with Google in the Estuary web app"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"One or more Google Ads accounts."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Note each account's ",(0,t.jsx)(s.a,{href:"https://support.google.com/google-ads/answer/1704344",children:"customer ID"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["A Google Account that has ",(0,t.jsx)(s.a,{href:"https://support.google.com/google-ads/answer/6372672?hl=en",children:"access"})," to the Google Ads account(s)."]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["This account may be a ",(0,t.jsx)(s.a,{href:"https://ads.google.com/home/tools/manager-accounts/",children:(0,t.jsx)(s.strong,{children:"manager account"})}),".\nIf so, ensure that it is ",(0,t.jsx)(s.a,{href:"https://support.google.com/google-ads/answer/7459601",children:"linked to each Google Ads account"})," and make note of its ",(0,t.jsx)(s.a,{href:"https://support.google.com/google-ads/answer/29198?hl=en",children:"customer ID"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"configuring-the-connector-specification-manually-via-the-cli",children:"Configuring the connector specification manually via the CLI"}),"\n",(0,t.jsx)(s.admonition,{type:"tip",children:(0,t.jsxs)(s.p,{children:["See our guide on ",(0,t.jsx)(s.a,{href:"/pr-preview/pr-2635/concepts/flowctl#protecting-secrets",children:"protecting secrets"})," to encrypt sensitive information when working with ",(0,t.jsx)(s.code,{children:"flowctl"}),"."]})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"One or more Google Ads accounts."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Note each account's ",(0,t.jsx)(s.a,{href:"https://support.google.com/google-ads/answer/1704344?hl=en",children:"customer ID"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["A Google Ads ",(0,t.jsx)(s.a,{href:"https://ads.google.com/home/tools/manager-accounts/",children:(0,t.jsx)(s.strong,{children:"manager account"})})," that has been ",(0,t.jsx)(s.a,{href:"https://support.google.com/google-ads/answer/7459601",children:"linked to each Google Ads account"})]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["A Google Ads ",(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/docs/first-call/dev-token?hl=en",children:"developer token"}),". Your Google Ads manager account must be configured prior to applying for a developer token."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.admonition,{type:"caution",children:(0,t.jsx)(s.p,{children:"Developer token applications are independently reviewed by Google and may take one or more days to be approved.\nBe sure to carefully review Google's requirements before submitting an application."})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["A ",(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/docs/first-call/refresh-token?hl=en",children:"refresh token"}),", which fetches a new developer tokens for you as the previous token expires."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["A generated ",(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/docs/oauth/cloud-project#create_a_client_id_and_client_secret",children:"Client ID and Client Secret"}),", used for authentication."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsxs)(s.p,{children:["You configure connectors either in the Estuary web app, or by directly editing the Data Flow specification file.\nSee ",(0,t.jsx)(s.a,{href:"/pr-preview/pr-2635/concepts/connectors#using-connectors",children:"connectors"})," to learn more about using connectors. The values and specification sample below provide configuration details specific to the Google Ads source connector."]}),"\n",(0,t.jsx)(s.h3,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(s.h4,{id:"endpoint",children:"Endpoint"}),"\n",(0,t.jsxs)(s.p,{children:["The properties in the table below reflect the manual authentication method.\nIf you're working in the Estuary web app, you'll use ",(0,t.jsx)(s.a,{href:"#using-oauth2-to-authenticate-with-google-in-the-estuary-web-app",children:"OAuth2"}),",\nso many of these properties aren't required."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Property"}),(0,t.jsx)(s.th,{children:"Title"}),(0,t.jsx)(s.th,{children:"Description"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Required/Default"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"/conversion_window_days"})}),(0,t.jsx)(s.td,{children:"Conversion Window (Optional)"}),(0,t.jsxs)(s.td,{children:["A conversion window is the period of time after an ad interaction (such as an ad click or video view) during which a conversion, such as a purchase, is recorded in Google Ads. For more information, see ",(0,t.jsx)(s.a,{href:"https://support.google.com/google-ads/answer/3123169?hl=en",children:"Google's docs"}),"."]}),(0,t.jsx)(s.td,{children:"integer"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"14"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"/credentials"})})}),(0,t.jsx)(s.td,{children:"Google Credentials"}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:"object"}),(0,t.jsx)(s.td,{children:"Required"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"/credentials/client_id"})})}),(0,t.jsx)(s.td,{children:"Client ID"}),(0,t.jsx)(s.td,{children:"The Client ID of your Google Ads developer application."}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Required"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"/credentials/client_secret"})})}),(0,t.jsx)(s.td,{children:"Client Secret"}),(0,t.jsx)(s.td,{children:"The Client Secret of your Google Ads developer application."}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Required"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"/credentials/developer_token"})})}),(0,t.jsx)(s.td,{children:"Developer Token"}),(0,t.jsx)(s.td,{children:"Developer token granted by Google to use their APIs."}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Required"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"/credentials/refresh_token"})})}),(0,t.jsx)(s.td,{children:"Refresh Token"}),(0,t.jsx)(s.td,{children:"The token for obtaining a new access token."}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Required"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"/custom_queries"})}),(0,t.jsx)(s.td,{children:"Custom GAQL Queries (Optional)"}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:"array"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.code,{children:"/custom_queries/-/query"})})}),(0,t.jsx)(s.td,{children:"Custom Query"}),(0,t.jsxs)(s.td,{children:["A custom defined GAQL query for building the report. Should not contain segments.date expression. See Google's ",(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/fields/v11/overview_query_builder",children:"query builder"})," for more information."]}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.code,{children:"/custom_queries/-/table_name"})})}),(0,t.jsx)(s.td,{children:"Destination Table Name"}),(0,t.jsx)(s.td,{children:"The table name in your destination database for chosen query."}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.em,{children:(0,t.jsx)(s.code,{children:"/custom_queries/-/primary_key"})})}),(0,t.jsx)(s.td,{children:"Destination Table Primary Key"}),(0,t.jsx)(s.td,{children:"The primary key in your destination database. Accepts a comma delimited string of fields present in your query."}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"/customer_id"})})}),(0,t.jsx)(s.td,{children:"Customer ID(s)"}),(0,t.jsx)(s.td,{children:"Comma separated list of (client) customer IDs. Each customer ID must be specified as a 10-digit number without dashes. More instruction on how to find this value in our docs.  Metrics streams like AdGroupAdReport cannot be requested for a manager account."}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Required"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"/end_date"})}),(0,t.jsx)(s.td,{children:"End Date (Optional)"}),(0,t.jsx)(s.td,{children:"UTC date in the format 2017-01-25. Any data after this date will not be replicated."}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"/login_customer_id"})}),(0,t.jsx)(s.td,{children:"Login Customer ID for Managed Accounts (Optional)"}),(0,t.jsx)(s.td,{children:"If your access to the customer account is through a manager account, this field is required and must be set to the customer ID of the manager account (10-digit number without dashes)."}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"/start_date"})})}),(0,t.jsx)(s.td,{children:"Start Date"}),(0,t.jsx)(s.td,{children:"UTC date in the format 2017-01-25. Any data before this date will not be replicated."}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Required"})]})]})]}),"\n",(0,t.jsx)(s.h4,{id:"bindings",children:"Bindings"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Property"}),(0,t.jsx)(s.th,{children:"Title"}),(0,t.jsx)(s.th,{children:"Description"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Required/Default"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"/stream"})})}),(0,t.jsx)(s.td,{children:"Stream"}),(0,t.jsx)(s.td,{children:"Google Ad resource from which a collection is captured."}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Required"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"/syncMode"})})}),(0,t.jsx)(s.td,{children:"Sync Mode"}),(0,t.jsx)(s.td,{children:"Connection method."}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:"Required"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"sample",children:"Sample"}),"\n",(0,t.jsx)(s.p,{children:"This sample specification reflects the manual authentication method."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",children:"captures:\n  ${PREFIX}/${CAPTURE_NAME}:\n    endpoint:\n      connector:\n        image: ghcr.io/estuary/source-google-ads:dev\n        config:\n          conversion_window_days: 7\n          credentials:\n            client_id: {secret_client_ID}\n            client_secret: {secret_secret}\n            developer_token: {access_token}\n            refresh_token: {refresh_token}\n          customer_id: 0123456789, 1234567890\n          login_customer_id: 0987654321\n          end_date: 2022-01-01\n          start_date: 2020-01-01\n          custom_queries:\n            - query:\n                SELECT\n                  campaign.id,\n                  campaign.name,\n                  campaign.status\n                FROM campaign\n              table_name: campaigns_custom\n              primary_key: campaign.id,campaign.name\n    bindings:\n      - resource:\n          stream: campaign\n          syncMode: incremental\n        target: ${PREFIX}/campaign\n      {...}\n"})}),"\n",(0,t.jsx)(s.h2,{id:"custom-queries",children:"Custom queries"}),"\n",(0,t.jsxs)(s.p,{children:["You can create custom resources using Google Analytics Query Language (GAQL) queries.\nEach generated resource will be mapped to an Estuary collection.\nFor help generating a valid query, see ",(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/fields/v11/overview_query_builder",children:"Google's query builder documentation"}),"."]}),"\n",(0,t.jsx)(s.p,{children:"If a query fails to validate against a given Google Ads account, it will be skipped."}),"\n",(0,t.jsx)(s.h3,{id:"incremental-vs-snapshot-streams",children:"Incremental vs. Snapshot Streams"}),"\n",(0,t.jsx)(s.p,{children:"Custom queries automatically determine their sync behavior based on the primary key configuration:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Incremental streams"}),": If your primary key includes ",(0,t.jsx)(s.code,{children:"segments.date"}),", the stream will operate incrementally, capturing data changes over time based on the date segment."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Snapshot streams"}),": If your primary key does not include ",(0,t.jsx)(s.code,{children:"segments.date"}),", the stream will operate as a full refresh, capturing a complete snapshot of the aggregated data on each sync."]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-yaml",children:"custom_queries:\n  # Incremental stream - includes segments.date in primary key\n  - query: SELECT customer.id, segments.date, metrics.impressions FROM customer\n    table_name: customer_metrics_daily\n    primary_key: customer.id,segments.date\n\n  # Snapshot stream - no segments.date in primary key\n  - query: SELECT customer.id, metrics.impressions FROM customer\n    table_name: customer_metrics_total\n    primary_key: customer.id\n"})}),"\n",(0,t.jsx)(s.h2,{id:"stream-limitations",children:"Stream Limitations"}),"\n",(0,t.jsx)(s.h3,{id:"clickview",children:"ClickView"}),"\n",(0,t.jsx)(s.p,{children:"Due to Google Ads API limitations, ClickView stream queries are executed with a time range limited to one day.\nAlso, data can only be requested for periods 90 days before the time of the request."}),"\n",(0,t.jsx)(s.p,{children:"In practical terms, this means that you can only search ClickView data limited to 3 months ago. Anything before this is not returned."}),"\n",(0,t.jsxs)(s.p,{children:["For more information, check ",(0,t.jsx)(s.a,{href:"https://developers.google.com/google-ads/api/fields/v15/click_view",children:"Google's Ads API documentation"})]})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);