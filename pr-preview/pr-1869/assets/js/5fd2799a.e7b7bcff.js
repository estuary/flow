"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[7078],{44316:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>c,toc:()=>a});var r=s(74848),i=s(28453);const t={},o="Integrating ClickHouse Cloud with Estuary Flow via Dekaf",c={id:"reference/Connectors/dekaf/dekaf-clickhouse",title:"Integrating ClickHouse Cloud with Estuary Flow via Dekaf",description:"Overview",source:"@site/docs/reference/Connectors/dekaf/dekaf-clickhouse.md",sourceDirName:"reference/Connectors/dekaf",slug:"/reference/Connectors/dekaf/dekaf-clickhouse",permalink:"/pr-preview/pr-1869/reference/Connectors/dekaf/dekaf-clickhouse",draft:!1,unlisted:!1,editUrl:"https://github.com/estuary/flow/edit/master/site/docs/reference/Connectors/dekaf/dekaf-clickhouse.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Bytewax",permalink:"/pr-preview/pr-1869/reference/Connectors/dekaf/dekaf-bytewax"},next:{title:"Imply Polaris",permalink:"/pr-preview/pr-1869/reference/Connectors/dekaf/dekaf-imply"}},l={},a=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Configure Data Source in Estuary Flow",id:"step-1-configure-data-source-in-estuary-flow",level:2},{value:"Step 2: Configure ClickPipes in ClickHouse Cloud",id:"step-2-configure-clickpipes-in-clickhouse-cloud",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"integrating-clickhouse-cloud-with-estuary-flow-via-dekaf",children:"Integrating ClickHouse Cloud with Estuary Flow via Dekaf"}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"This guide covers how to integrate ClickHouse Cloud with Estuary Flow using Dekaf, Estuary\u2019s Kafka API compatibility\nlayer, and ClickPipes for real-time analytics. This integration allows ClickHouse Cloud users to stream data from a vast\narray of sources supported by Estuary Flow directly into ClickHouse, using Dekaf for Kafka compatibility."}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.a,{href:"https://clickhouse.com/",children:"ClickHouse Cloud"})," account"]})," with permissions to configure ClickPipes for data ingestion."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"https://dashboard.estuary.dev/register",children:"Estuary Flow account"})})," with access to Dekaf and necessary connectors (\ne.g., Salesforce, databases)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Estuary Flow Refresh Token"})," to authenticate with Dekaf."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-1-configure-data-source-in-estuary-flow",children:"Step 1: Configure Data Source in Estuary Flow"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["Generate a [Refresh Token](Estuary Refresh Token (",(0,r.jsx)(n.a,{href:"/guides/how_to_generate_refresh_token",children:"Generate a refresh token"}),")"]}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"To access the Kafka-compatible topics, create a refresh token in the Estuary Flow dashboard. This token will act\nas the password for both the broker and schema registry."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Connect to Dekaf"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Estuary Flow will automatically expose your collections as Kafka-compatible topics through Dekaf. No additional\nconfiguration is required."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Dekaf provides the following connection details:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Broker Address: dekaf.estuary-data.com:9092\nSchema Registry Address: https://dekaf.estuary-data.com\nSecurity Protocol: SASL_SSL\nSASL Mechanism: PLAIN\nSASL Username: {}\nSASL Password: <Estuary Refresh Token>\nSchema Registry Username: {}\nSchema Registry Password: <Estuary Refresh Token>\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"step-2-configure-clickpipes-in-clickhouse-cloud",children:"Step 2: Configure ClickPipes in ClickHouse Cloud"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Set Up ClickPipes"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["In ClickHouse Cloud, go to ",(0,r.jsx)(n.strong,{children:"Integrations"})," and select ",(0,r.jsx)(n.strong,{children:"Apache Kafka"})," as the data source."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Enter Connection Details"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use the connection parameters from the previous step to configure access to Estuary Flow."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Map Data Fields"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ensure that ClickHouse can parse the incoming data properly. Use ClickHouse\u2019s mapping interface to align fields\nbetween Estuary Flow collections and ClickHouse tables."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Provision the ClickPipe"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Kick off the integration and allow ClickPipes to set up the pipeline (should complete within a few seconds)."}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var r=s(96540);const i={},t=r.createContext(i);function o(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);