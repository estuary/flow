<!DOCTYPE html><html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/Connectors/capture-connectors/PostgreSQL/PostgreSQL" data-has-hydrated="false"><head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">PostgreSQL Connector | Estuary Flow Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.estuary.dev/pr-preview/pr-2571/img/estuary-new.png"><meta data-rh="true" name="twitter:image" content="https://docs.estuary.dev/pr-preview/pr-2571/img/estuary-new.png"><meta data-rh="true" property="og:url" content="https://docs.estuary.dev/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="PostgreSQL | Estuary Flow Documentation"><meta data-rh="true" name="description" content="This connector uses change data capture (CDC) to continuously capture updates in a PostgreSQL database into one or more Flow collections."><meta data-rh="true" property="og:description" content="This connector uses change data capture (CDC) to continuously capture updates in a PostgreSQL database into one or more Flow collections."><link data-rh="true" rel="icon" href="/pr-preview/pr-2571/img/favicon-2.ico"><link data-rh="true" rel="canonical" href="https://docs.estuary.dev/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/"><link data-rh="true" rel="alternate" href="https://docs.estuary.dev/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.estuary.dev/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Capture Connectors","item":"https://docs.estuary.dev/pr-preview/pr-2571/reference/Connectors/capture-connectors/"},{"@type":"ListItem","position":2,"name":"PostgreSQL","item":"https://docs.estuary.dev/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/"}]}</script><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-WK8SB2L",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>
<script id="ai-widget-script" async="" src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="349e5b72-3e5a-4c19-8b7a-27c7b90caa0f" data-project-name="Estuary" data-modal-title="Estuary AI Assistant" data-project-color="#5072EB" data-button-text-color="#F2F2F2" data-project-logo="https://docs.estuary.dev/img/estuary-new.png" data-modal-example-questions-title="Try asking me..." data-modal-disclaimer="This AI assistant answers questions using Estuary's [documentation](https://docs.estuary.dev/), [blogs](https://estuary.dev/blog/), and additional resources. If you can't find your answer, join us on [Slack](https://go.estuary.dev/slack) or [send an email](https://estuary.dev/contact-us)." data-modal-example-questions="How does CDC work in Estuary?,How can I deploy to a private cloud?,How do I connect to PostgreSQL?,Is Estuary Flow scalable?" data-uncertain-answer-callout="I may not have all of the information on that topic. I bet someone can answer it in [Slack](https://go.estuary.dev/slack)." data-mcp-enabled="true" data-mcp-server-url="https://estuary.mcp.kapa.ai"></script><link rel="stylesheet" href="/pr-preview/pr-2571/assets/css/styles.7c6c0a48.css">
<script src="/pr-preview/pr-2571/assets/js/runtime~main.a291ca9c.js" defer="defer"></script>
<script src="/pr-preview/pr-2571/assets/js/main.d49beba4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK8SB2L" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pr-preview/pr-2571/"><div class="navbar__logo"><img src="/pr-preview/pr-2571/img/estuary-new.png" alt="Estuary Flow Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/pr-preview/pr-2571/img/estuary-new.png" alt="Estuary Flow Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Estuary Flow</b></a><a class="navbar__item navbar__link docs-section-link" href="/pr-preview/pr-2571/">Platform</a><a aria-current="page" class="navbar__item navbar__link docs-section-link navbar__link--active" href="/pr-preview/pr-2571/reference/Connectors/">Connectors</a><div class="navbar__item"><a href="https://estuary.dev/blog" target="_blank">Blog</a></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://status.estuary.dev/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Status<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/estuary/flow" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item button-link"><a href="https://dashboard.estuary.dev/register">Try Estuary</a></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pr-preview/pr-2571/reference/Connectors/"><span title="Connectors" class="linkLabel_WmDU">Connectors</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/"><span title="Capture Connectors" class="categoryLinkLabel_W154">Capture Connectors</span></a><button aria-label="Collapse sidebar category 'Capture Connectors'" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/MariaDB/"><span title="MariaDB" class="categoryLinkLabel_W154">MariaDB</span></a><button aria-label="Expand sidebar category 'MariaDB'" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/SQLServer/"><span title="Microsoft SQL Server" class="categoryLinkLabel_W154">Microsoft SQL Server</span></a><button aria-label="Expand sidebar category 'Microsoft SQL Server'" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/MySQL/"><span title="MySQL" class="categoryLinkLabel_W154">MySQL</span></a><button aria-label="Expand sidebar category 'MySQL'" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" aria-current="page" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/"><span title="PostgreSQL" class="categoryLinkLabel_W154">PostgreSQL</span></a><button aria-label="Collapse sidebar category 'PostgreSQL'" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/Supabase/"><span title="Supabase" class="linkLabel_WmDU">Supabase</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/amazon-rds-postgres/"><span title="Amazon RDS for PostgreSQL" class="linkLabel_WmDU">Amazon RDS for PostgreSQL</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/google-cloud-sql-postgres/"><span title="Google Cloud SQL for PostgreSQL" class="linkLabel_WmDU">Google Cloud SQL for PostgreSQL</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/neon-postgres/"><span title="Neon PostgreSQL" class="linkLabel_WmDU">Neon PostgreSQL</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/postgres-batch/"><span title="PostgreSQL Batch Query Connector" class="linkLabel_WmDU">PostgreSQL Batch Query Connector</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/HubSpot-real-time/"><span title="HubSpot ( Real-Time )" class="linkLabel_WmDU">HubSpot ( Real-Time )</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/HubSpot/"><span title="HubSpot" class="linkLabel_WmDU">HubSpot</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/MongoDB/"><span title="MongoDB" class="categoryLinkLabel_W154">MongoDB</span></a><button aria-label="Expand sidebar category 'MongoDB'" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/OracleDB/"><span title="OracleDB" class="categoryLinkLabel_W154">OracleDB</span></a><button aria-label="Expand sidebar category 'OracleDB'" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/Salesforce/"><span title="Salesforce" class="categoryLinkLabel_W154">Salesforce</span></a><button aria-label="Expand sidebar category 'Salesforce'" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/ada/"><span title="Ada" class="linkLabel_WmDU">Ada</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/aircall/"><span title="Aircall" class="linkLabel_WmDU">Aircall</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/airtable-native/"><span title="Airtable" class="linkLabel_WmDU">Airtable</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/airtable/"><span title="Airtable (deprecated)" class="linkLabel_WmDU">Airtable (deprecated)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/alloydb/"><span title="AlloyDB" class="linkLabel_WmDU">AlloyDB</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/alpaca/"><span title="Alpaca" class="linkLabel_WmDU">Alpaca</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/amazon-ads/"><span title="Amazon Ads" class="linkLabel_WmDU">Amazon Ads</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/amazon-dynamodb/"><span title="Amazon DynamoDB" class="linkLabel_WmDU">Amazon DynamoDB</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/amazon-kinesis/"><span title="Amazon Kinesis" class="linkLabel_WmDU">Amazon Kinesis</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/amazon-redshift/"><span title="Amazon Redshift (Deprecated)" class="linkLabel_WmDU">Amazon Redshift (Deprecated)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/amazon-s3/"><span title="Amazon S3" class="linkLabel_WmDU">Amazon S3</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/amazon-sqs/"><span title="Amazon SQS" class="linkLabel_WmDU">Amazon SQS</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/amplitude/"><span title="Amplitude" class="linkLabel_WmDU">Amplitude</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/apache-kafka/"><span title="Apache Kafka" class="linkLabel_WmDU">Apache Kafka</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/apple-app-store/"><span title="Apple App Store" class="linkLabel_WmDU">Apple App Store</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/asana/"><span title="Asana" class="linkLabel_WmDU">Asana</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/azure-blob-storage/"><span title="Azure Blob Storage" class="linkLabel_WmDU">Azure Blob Storage</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/bigquery-batch/"><span title="BigQuery Batch Query Connector" class="linkLabel_WmDU">BigQuery Batch Query Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/bigquery-ga4-native/"><span title="Google Analytics 4 BigQuery Native Connector" class="linkLabel_WmDU">Google Analytics 4 BigQuery Native Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/bing-ads/"><span title="Bing Ads" class="linkLabel_WmDU">Bing Ads</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/braintree/"><span title="Braintree" class="linkLabel_WmDU">Braintree</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/braze/"><span title="Braze" class="linkLabel_WmDU">Braze</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/brevo/"><span title="Brevo" class="linkLabel_WmDU">Brevo</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/chargebee-native/"><span title="Chargebee Native" class="linkLabel_WmDU">Chargebee Native</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/chargebee/"><span title="Chargebee (Deprecated)" class="linkLabel_WmDU">Chargebee (Deprecated)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/confluence/"><span title="Confluence" class="linkLabel_WmDU">Confluence</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/criteo/"><span title="Criteo" class="linkLabel_WmDU">Criteo</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/datadog-ingest/"><span title="Datadog HTTP Ingest (Webhook)" class="linkLabel_WmDU">Datadog HTTP Ingest (Webhook)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/datadog/"><span title="Datadog" class="linkLabel_WmDU">Datadog</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/db2-batch/"><span title="IBM Db2 Batch Query Connector" class="linkLabel_WmDU">IBM Db2 Batch Query Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/dropbox/"><span title="Dropbox" class="linkLabel_WmDU">Dropbox</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/dynamics-365-finance-and-operations/"><span title="Microsoft Dynamics 365 Finance and Operations" class="linkLabel_WmDU">Microsoft Dynamics 365 Finance and Operations</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/exchange-rates/"><span title="Exchange Rates API" class="linkLabel_WmDU">Exchange Rates API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/facebook-marketing-native/"><span title="Facebook Ads (Meta)" class="linkLabel_WmDU">Facebook Ads (Meta)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/facebook-marketing/"><span title="Facebook Marketing (Deprecated)" class="linkLabel_WmDU">Facebook Marketing (Deprecated)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/freshdesk/"><span title="Freshdesk" class="linkLabel_WmDU">Freshdesk</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/front/"><span title="Front" class="linkLabel_WmDU">Front</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/gainsight-nxt/"><span title="Gainsight NXT" class="linkLabel_WmDU">Gainsight NXT</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/gcs/"><span title="Google Cloud Storage" class="linkLabel_WmDU">Google Cloud Storage</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/genesys/"><span title="Genesys" class="linkLabel_WmDU">Genesys</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/github/"><span title="GitHub" class="linkLabel_WmDU">GitHub</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/gitlab/"><span title="GitLab" class="linkLabel_WmDU">GitLab</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/gladly/"><span title="Gladly" class="linkLabel_WmDU">Gladly</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/google-ads/"><span title="Google Ads" class="linkLabel_WmDU">Google Ads</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/google-analytics-4/"><span title="Google Analytics 4" class="linkLabel_WmDU">Google Analytics 4</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/google-analytics-data-api-native/"><span title="Google Analytics Data API" class="linkLabel_WmDU">Google Analytics Data API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/google-analytics/"><span title="(Deprecated) Google Analytics UA" class="linkLabel_WmDU">(Deprecated) Google Analytics UA</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/google-drive/"><span title="Google Drive" class="linkLabel_WmDU">Google Drive</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/google-firestore/"><span title="Google Firestore" class="linkLabel_WmDU">Google Firestore</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/google-play/"><span title="Google Play" class="linkLabel_WmDU">Google Play</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/google-pubsub/"><span title="Google Cloud Pub/Sub" class="linkLabel_WmDU">Google Cloud Pub/Sub</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/google-search-console/"><span title="Google Search Console" class="linkLabel_WmDU">Google Search Console</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/google-sheets/"><span title="Google Sheets" class="linkLabel_WmDU">Google Sheets</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/greenhouse/"><span title="Greenhouse" class="linkLabel_WmDU">Greenhouse</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/harvest/"><span title="Harvest" class="linkLabel_WmDU">Harvest</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/http-file/"><span title="HTTP File" class="linkLabel_WmDU">HTTP File</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/http-ingest/"><span title="HTTP Ingest (Webhook)" class="linkLabel_WmDU">HTTP Ingest (Webhook)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/incident-io/"><span title="Incident.io" class="linkLabel_WmDU">Incident.io</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/instagram/"><span title="Instagram" class="linkLabel_WmDU">Instagram</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/intercom-ingest/"><span title="Intercom HTTP Ingest (Webhook)" class="linkLabel_WmDU">Intercom HTTP Ingest (Webhook)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/intercom-native/"><span title="Intercom" class="linkLabel_WmDU">Intercom</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/intercom/"><span title="Intercom (Deprecated)" class="linkLabel_WmDU">Intercom (Deprecated)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/iterable/"><span title="Iterable" class="linkLabel_WmDU">Iterable</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/iterate/"><span title="Iterate" class="linkLabel_WmDU">Iterate</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/jira-ingest/"><span title="Jira HTTP Ingest (Webhook)" class="linkLabel_WmDU">Jira HTTP Ingest (Webhook)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/jira-legacy/"><span title="Jira (legacy)" class="linkLabel_WmDU">Jira (legacy)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/jira-native/"><span title="Jira" class="linkLabel_WmDU">Jira</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/jira/"><span title="Jira (Deprecated)" class="linkLabel_WmDU">Jira (Deprecated)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/klaviyo-native/"><span title="Klaviyo" class="linkLabel_WmDU">Klaviyo</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/klaviyo/"><span title="Klaviyo (Deprecated)" class="linkLabel_WmDU">Klaviyo (Deprecated)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/linkedin-ads/"><span title="LinkedIn Ads" class="linkLabel_WmDU">LinkedIn Ads</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/linkedin-pages/"><span title="LinkedIn Pages" class="linkLabel_WmDU">LinkedIn Pages</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/looker/"><span title="Looker" class="linkLabel_WmDU">Looker</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/mailchimp/"><span title="Mailchimp" class="linkLabel_WmDU">Mailchimp</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/marketo/"><span title="Marketo" class="linkLabel_WmDU">Marketo</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/mixpanel/"><span title="MixPanel" class="linkLabel_WmDU">MixPanel</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/monday/"><span title="Monday" class="linkLabel_WmDU">Monday</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/navan/"><span title="Navan" class="linkLabel_WmDU">Navan</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/netsuite-suiteanalytics/"><span title="NetSuite SuiteAnalytics Connect" class="linkLabel_WmDU">NetSuite SuiteAnalytics Connect</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/netsuite-suitetalk/"><span title="NetSuite SuiteTalk REST (Deprecated)" class="linkLabel_WmDU">NetSuite SuiteTalk REST (Deprecated)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/notion/"><span title="Notion" class="linkLabel_WmDU">Notion</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/onedrive/"><span title="OneDrive" class="linkLabel_WmDU">OneDrive</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/outreach/"><span title="Outreach" class="linkLabel_WmDU">Outreach</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/paypal-transaction/"><span title="Paypal Transaction" class="linkLabel_WmDU">Paypal Transaction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/pendo/"><span title="Pendo" class="linkLabel_WmDU">Pendo</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/pinterest/"><span title="Pinterest" class="linkLabel_WmDU">Pinterest</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/qualtrics/"><span title="Qualtrics" class="linkLabel_WmDU">Qualtrics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/quickbooks/"><span title="QuickBooks" class="linkLabel_WmDU">QuickBooks</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/recharge/"><span title="Recharge" class="linkLabel_WmDU">Recharge</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/redshift-batch/"><span title="Amazon Redshift Batch Query Connector" class="linkLabel_WmDU">Amazon Redshift Batch Query Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/sage-intacct/"><span title="Sage Intacct" class="linkLabel_WmDU">Sage Intacct</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/sendgrid/"><span title="SendGrid" class="linkLabel_WmDU">SendGrid</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/sentry/"><span title="Sentry" class="linkLabel_WmDU">Sentry</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/sftp/"><span title="SFTP" class="linkLabel_WmDU">SFTP</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/sharepoint/"><span title="SharePoint" class="linkLabel_WmDU">SharePoint</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/shopify-native/"><span title="Shopify (GraphQL)" class="linkLabel_WmDU">Shopify (GraphQL)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/shopify/"><span title="Shopify" class="linkLabel_WmDU">Shopify</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/slack/"><span title="Slack" class="linkLabel_WmDU">Slack</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/snapchat/"><span title="Snapchat Marketing" class="linkLabel_WmDU">Snapchat Marketing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/snowflake/"><span title="Snowflake CDC Connector" class="linkLabel_WmDU">Snowflake CDC Connector</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/stripe-realtime/"><span title="Stripe Real-time" class="linkLabel_WmDU">Stripe Real-time</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/stripe/"><span title="Stripe (Deprecated)" class="linkLabel_WmDU">Stripe (Deprecated)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/survey-monkey/"><span title="Survey Monkey" class="linkLabel_WmDU">Survey Monkey</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/tiktok/"><span title="TikTok Marketing" class="linkLabel_WmDU">TikTok Marketing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/twilio/"><span title="Twilio" class="linkLabel_WmDU">Twilio</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/woocommerce/"><span title="WooCommerce" class="linkLabel_WmDU">WooCommerce</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/youtube-analytics/"><span title="YouTube Analytics" class="linkLabel_WmDU">YouTube Analytics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/zendesk-chat/"><span title="Zendesk Chat" class="linkLabel_WmDU">Zendesk Chat</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/zendesk-support-native/"><span title="Zendesk Support Real-Time" class="linkLabel_WmDU">Zendesk Support Real-Time</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/zendesk-support/"><span title="Zendesk Support (Deprecated)" class="linkLabel_WmDU">Zendesk Support (Deprecated)</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/pr-preview/pr-2571/reference/Connectors/materialization-connectors/"><span title="Materialization Connectors" class="categoryLinkLabel_W154">Materialization Connectors</span></a><button aria-label="Expand sidebar category 'Materialization Connectors'" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pr-preview/pr-2571/reference/Connectors/dekaf/"><span title="Dekaf Integrations" class="linkLabel_WmDU">Dekaf Integrations</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/pr-preview/pr-2571/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/"><span>Capture Connectors</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">PostgreSQL</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>PostgreSQL</h1></header>
<p>This connector uses change data capture (CDC) to continuously capture updates in a PostgreSQL database into one or more Flow collections.</p>
<p>It is available for use in the Flow web application. For local development or open-source workflows, <a href="https://github.com/estuary/connectors/pkgs/container/source-postgres" target="_blank" rel="noopener noreferrer" class=""><code>ghcr.io/estuary/source-postgres:dev</code></a> provides the latest version of the connector as a Docker image. You can also follow the link in your browser to see past image versions.</p>
<p>For managed PostgreSQL instances that do not support logical replication, we offer a <a class="" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/postgres-batch/">PostgreSQL Batch Connector</a> as an alternative.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="supported-versions-and-platforms">Supported versions and platforms<a href="#supported-versions-and-platforms" class="hash-link" aria-label="Direct link to Supported versions and platforms" title="Direct link to Supported versions and platforms" translate="no"></a></h2>
<p>This connector supports PostgreSQL versions 10.0 and later on major cloud platforms, as well as self-hosted instances.</p>
<p>Setup instructions are provided for the following platforms:</p>
<ul>
<li class=""><a href="#self-hosted-postgresql" class="">Self-hosted PostgreSQL</a></li>
<li class=""><a class="" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/amazon-rds-postgres/">Amazon RDS</a></li>
<li class=""><a href="#amazon-aurora" class="">Amazon Aurora</a></li>
<li class=""><a class="" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/google-cloud-sql-postgres/">Google Cloud SQL</a></li>
<li class=""><a href="#azure-database-for-postgresql" class="">Azure Database for PostgreSQL</a></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no"></a></h2>
<p>You'll need a PostgreSQL database setup with the following:</p>
<ul>
<li class=""><a href="https://www.postgresql.org/docs/current/runtime-config-wal.html" target="_blank" rel="noopener noreferrer" class="">Logical replication enabled</a>  <code>wal_level=logical</code></li>
<li class=""><a href="https://www.postgresql.org/docs/current/sql-createrole.html" target="_blank" rel="noopener noreferrer" class="">User role</a> with <code>REPLICATION</code> attribute</li>
<li class="">A <a href="https://www.postgresql.org/docs/current/warm-standby.html#STREAMING-REPLICATION-SLOTS" target="_blank" rel="noopener noreferrer" class="">replication slot</a>. This represents a cursor into the PostgreSQL write-ahead log from which change events can be read.<!-- -->
<ul>
<li class="">Optional; if none exist, one will be created by the connector.</li>
<li class="">If you wish to run multiple captures from the same database, each must have its own slot.
You can create these slots yourself, or by specifying a name other than the default in the advanced <a href="#configuration" class="">configuration</a>.</li>
</ul>
</li>
<li class="">A <a href="https://www.postgresql.org/docs/current/sql-createpublication.html" target="_blank" rel="noopener noreferrer" class="">publication</a>. This represents the set of tables for which change events will be reported.<!-- -->
<ul>
<li class="">In more restricted setups, this must be created manually, but can be created automatically if the connector has suitable permissions.</li>
</ul>
</li>
<li class="">A watermarks table. The watermarks table is a small scratch space to which the connector occasionally writes a small amount of data to ensure accuracy when backfilling preexisting table contents.<!-- -->
<ul>
<li class="">In more restricted setups, this must be created manually, but can be created automatically if the connector has suitable permissions.</li>
<li class=""><strong>For read-only environments</strong>, the capture can operate in read-only mode which does not require a watermarks table. See <a href="#read-only-captures" class="">Read-Only Captures</a> for details.</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Configuration Tip</div><div class="admonitionContent_BuS1"><p>To capture data from databases hosted on your internal network, you may need to
use <a class="" href="/pr-preview/pr-2571/guides/connect-network/">SSH tunneling</a>. If you have a
<a class="" href="/pr-preview/pr-2571/getting-started/deployment-options/#private-deployment">private deployment</a>,
you can also use private cloud networking features to reach your database.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="setup">Setup<a href="#setup" class="hash-link" aria-label="Direct link to Setup" title="Direct link to Setup" translate="no"></a></h2>
<p>To meet these requirements, follow the steps for your hosting type.</p>
<ul>
<li class=""><a href="#self-hosted-postgresql" class="">Self-hosted PostgreSQL</a></li>
<li class=""><a class="" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/amazon-rds-postgres/">Amazon RDS</a></li>
<li class=""><a href="#amazon-aurora" class="">Amazon Aurora</a></li>
<li class=""><a class="" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/google-cloud-sql-postgres/">Google Cloud SQL</a></li>
<li class=""><a href="#azure-database-for-postgresql" class="">Azure Database for PostgreSQL</a></li>
<li class=""><a class="" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/Supabase/">Supabase</a></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="self-hosted-postgresql">Self-hosted PostgreSQL<a href="#self-hosted-postgresql" class="hash-link" aria-label="Direct link to Self-hosted PostgreSQL" title="Direct link to Self-hosted PostgreSQL" translate="no"></a></h3>
<p>The simplest way to meet the above prerequisites is to change the WAL level and have the connector use a database superuser role.</p>
<p>For a more restricted setup, create a new user with just the required permissions as detailed in the following steps:</p>
<ol>
<li class="">Connect to your instance and create a new user and password:</li>
</ol>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">USER</span><span class="token plain"> flow_capture </span><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> PASSWORD </span><span class="token string" style="color:#e3116c">'secret'</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REPLICATION</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ol start="2">
<li class="">
<p>Assign the appropriate role.</p>
<ol>
<li class="">If using PostgreSQL v14 or later:</li>
</ol>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> pg_read_all_data </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ol start="2">
<li class="">If using an earlier version:</li>
</ol>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIVILEGES</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SCHEMA</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLES</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ALL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLES</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SCHEMA</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">other_schema</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ALL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLES</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SCHEMA</span><span class="token plain"> information_schema</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pg_catalog </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>where <code>&lt;other_schema&gt;</code> lists all schemas that will be captured from.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>If an even more restricted set of permissions is desired, you can also grant SELECT on
just the specific table(s) which should be captured from. The information_schema and
pg_catalog access is required for stream auto-discovery, but not for capturing already
configured streams.</p></div></div>
</li>
<li class="">
<p>Create the watermarks table, grant privileges, and create publication:</p>
</li>
</ol>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IF</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">EXISTS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">flow_watermarks </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">slot </span><span class="token keyword" style="color:#00009f">TEXT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> watermark </span><span class="token keyword" style="color:#00009f">TEXT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ALL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIVILEGES</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">flow_watermarks </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> PUBLICATION flow_publication</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> PUBLICATION flow_publication </span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">publish_via_partition_root </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> PUBLICATION flow_publication </span><span class="token keyword" style="color:#00009f">ADD</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">flow_watermarks</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">other_tables</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>where <code>&lt;other_tables&gt;</code> lists all tables that will be captured from. The <code>publish_via_partition_root</code>
setting is recommended (because most users will want changes to a partitioned table to be captured
under the name of the root table) but is not required.</p>
<ol start="4">
<li class="">Set WAL level to logical:</li>
</ol>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> SYSTEM </span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> wal_level </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> logical</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ol start="5">
<li class="">Restart PostgreSQL to allow the WAL level change to take effect.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="amazon-aurora">Amazon Aurora<a href="#amazon-aurora" class="hash-link" aria-label="Direct link to Amazon Aurora" title="Direct link to Amazon Aurora" translate="no"></a></h3>
<p>You must apply some of the settings to the entire Aurora DB cluster, and others to a database instance within the cluster.
For each step, take note of which entity you're working with.</p>
<ol>
<li class="">
<p>Allow connections between the database and Estuary Flow. There are two ways to do this: by granting direct access to Flow's IP or by creating an SSH tunnel.</p>
<ol>
<li class="">
<p>To allow direct access:</p>
<ul>
<li class=""><a href="https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/Aurora.Modifying.html#Aurora.Modifying.Instance" target="_blank" rel="noopener noreferrer" class="">Modify the instance</a>, choosing <strong>Publicly accessible</strong> in the <strong>Connectivity</strong> settings.</li>
<li class="">Edit the VPC security group associated with your instance, or create a new VPC security group and associate it with the instance as described in <a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html#Overview.RDSSecurityGroups.Create" target="_blank" rel="noopener noreferrer" class="">the Amazon documentation</a>. Create a new inbound rule and a new outbound rule that allow all traffic from the <a class="" href="/pr-preview/pr-2571/reference/allow-ip-addresses/">Estuary Flow IP addresses</a>.</li>
</ul>
</li>
<li class="">
<p>To allow secure connections via SSH tunneling:</p>
<ul>
<li class="">Follow the guide to <a class="" href="/pr-preview/pr-2571/guides/connect-network/">configure an SSH server for tunneling</a></li>
<li class="">When you configure your connector as described in the <a href="#configuration" class="">configuration</a> section above, including the additional <code>networkTunnel</code> configuration to enable the SSH tunnel. See <a class="" href="/pr-preview/pr-2571/concepts/connectors/#connecting-to-endpoints-on-secure-networks">Connecting to endpoints on secure networks</a> for additional details and a sample.</li>
</ul>
</li>
</ol>
</li>
<li class="">
<p>Enable logical replication on your Aurora DB cluster.</p>
<ol>
<li class="">
<p>Create a <a href="https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/USER_WorkingWithDBClusterParamGroups.html#USER_WorkingWithParamGroups.CreatingCluster" target="_blank" rel="noopener noreferrer" class="">parameter group</a>.
Create a unique name and description and set the following properties:</p>
<ul>
<li class=""><strong>Family</strong>: aurora-postgresql13, or substitute the version of Aurora PostgreSQL used for your cluster.</li>
<li class=""><strong>Type</strong>: DB Cluster Parameter group</li>
</ul>
</li>
<li class="">
<p><a href="https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/USER_WorkingWithDBClusterParamGroups.html#USER_WorkingWithParamGroups.ModifyingCluster" target="_blank" rel="noopener noreferrer" class="">Modify the new parameter group</a> and set <code>rds.logical_replication=1</code>.</p>
</li>
<li class="">
<p><a href="https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/USER_WorkingWithDBClusterParamGroups.html#USER_WorkingWithParamGroups.AssociatingCluster" target="_blank" rel="noopener noreferrer" class="">Associate the parameter group</a> with the DB cluster.</p>
</li>
<li class="">
<p>Reboot the cluster to allow the new parameter group to take effect.</p>
</li>
</ol>
</li>
<li class="">
<p>In the PostgreSQL client, connect to your instance and run the following commands to create a new user for the capture with appropriate permissions,
and set up the watermarks table and publication.</p>
</li>
</ol>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">USER</span><span class="token plain"> flow_capture </span><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> PASSWORD </span><span class="token string" style="color:#e3116c">'secret'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> rds_replication </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ALL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLES</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SCHEMA</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIVILEGES</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SCHEMA</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLES</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IF</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">EXISTS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">flow_watermarks </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">slot </span><span class="token keyword" style="color:#00009f">TEXT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> watermark </span><span class="token keyword" style="color:#00009f">TEXT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ALL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIVILEGES</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">flow_watermarks </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> PUBLICATION flow_publication</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> PUBLICATION flow_publication </span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">publish_via_partition_root </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> PUBLICATION flow_publication </span><span class="token keyword" style="color:#00009f">ADD</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">flow_watermarks</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">other_tables</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>where <code>&lt;other_tables&gt;</code> lists all tables that will be captured from. The <code>publish_via_partition_root</code>
setting is recommended (because most users will want changes to a partitioned table to be captured
under the name of the root table) but is not required.</p>
<ol start="6">
<li class="">In the <a href="https://console.aws.amazon.com/rds/" target="_blank" rel="noopener noreferrer" class="">RDS console</a>, note the instance's Endpoint and Port. You'll need these for the <code>address</code> property when you configure the connector.</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="azure-database-for-postgresql">Azure Database for PostgreSQL<a href="#azure-database-for-postgresql" class="hash-link" aria-label="Direct link to Azure Database for PostgreSQL" title="Direct link to Azure Database for PostgreSQL" translate="no"></a></h3>
<ol>
<li class="">
<p>Allow connections between the database and Estuary Flow. There are two ways to do this: by granting direct access to Flow's IP or by creating an SSH tunnel.</p>
<ol>
<li class="">
<p>To allow direct access:</p>
<ul>
<li class="">Create a new <a href="https://docs.microsoft.com/en-us/azure/postgresql/flexible-server/how-to-manage-firewall-portal#create-a-firewall-rule-after-server-is-created" target="_blank" rel="noopener noreferrer" class="">firewall rule</a> that grants access to the <a class="" href="/pr-preview/pr-2571/reference/allow-ip-addresses/">Estuary Flow IP addresses</a>.</li>
</ul>
</li>
<li class="">
<p>To allow secure connections via SSH tunneling:</p>
<ul>
<li class="">Follow the guide to <a class="" href="/pr-preview/pr-2571/guides/connect-network/">configure an SSH server for tunneling</a></li>
<li class="">When you configure your connector as described in the <a href="#configuration" class="">configuration</a> section above, including the additional <code>networkTunnel</code> configuration to enable the SSH tunnel. See <a class="" href="/pr-preview/pr-2571/concepts/connectors/#connecting-to-endpoints-on-secure-networks">Connecting to endpoints on secure networks</a> for additional details and a sample.</li>
</ul>
</li>
</ol>
</li>
<li class="">
<p>In your Azure PostgreSQL instance's support parameters, <a href="https://docs.microsoft.com/en-us/azure/postgresql/single-server/concepts-logical#set-up-your-server" target="_blank" rel="noopener noreferrer" class="">set replication to logical</a> to enable logical replication.</p>
</li>
<li class="">
<p>In the PostgreSQL client, connect to your instance and run the following commands to create a new user for the capture with appropriate permissions.</p>
</li>
</ol>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">USER</span><span class="token plain"> flow_capture </span><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> PASSWORD </span><span class="token string" style="color:#e3116c">'secret'</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REPLICATION</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ul>
<li class="">If using PostgreSQL v14 or later:</li>
</ul>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> pg_read_all_data </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ul>
<li class="">
<p>If using an earlier version:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIVILEGES</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SCHEMA</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLES</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ALL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLES</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SCHEMA</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">others</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ALL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLES</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SCHEMA</span><span class="token plain"> information_schema</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pg_catalog </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>where <code>&lt;others&gt;</code> lists all schemas that will be captured from.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>If an even more restricted set of permissions is desired, you can also grant SELECT on
just the specific table(s) which should be captured from. The information_schema and pg_catalog access is required for stream auto-discovery, but not for capturing already
configured streams.</p></div></div>
</li>
</ul>
<ol start="4">
<li class="">Set up the watermarks table and publication.</li>
</ol>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DEFAULT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIVILEGES</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SCHEMA</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLES</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ALL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLES</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SCHEMA</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">others</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> information_schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">columns</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> information_schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">tables</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pg_catalog</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pg_attribute</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pg_catalog</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pg_class</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pg_catalog</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pg_index</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pg_catalog</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pg_namespace </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">IF</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">EXISTS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">flow_watermarks </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">slot </span><span class="token keyword" style="color:#00009f">TEXT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> watermark </span><span class="token keyword" style="color:#00009f">TEXT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GRANT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ALL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIVILEGES</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">flow_watermarks </span><span class="token keyword" style="color:#00009f">TO</span><span class="token plain"> flow_capture</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> PUBLICATION flow_publication</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> PUBLICATION flow_publication </span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">publish_via_partition_root </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> PUBLICATION flow_publication </span><span class="token keyword" style="color:#00009f">ADD</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">flow_watermarks</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">other_tables</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ol start="5">
<li class="">
<p>Note the following important items for configuration:</p>
<ul>
<li class="">Find the instance's host under Server Name, and the port under Connection Strings (usually <code>5432</code>). Together, you'll use the host<!-- -->:port<!-- --> as the <code>address</code> property when you configure the connector.</li>
<li class="">Format <code>user</code> as <code>username@databasename</code>; for example, <code>flow_capture@myazuredb</code>.</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="backfills-and-performance-considerations">Backfills and performance considerations<a href="#backfills-and-performance-considerations" class="hash-link" aria-label="Direct link to Backfills and performance considerations" title="Direct link to Backfills and performance considerations" translate="no"></a></h2>
<p>When the PostgreSQL capture is initiated, by default, the connector first <em>backfills</em>, or captures the targeted tables in their current state. It then transitions to capturing change events on an ongoing basis.</p>
<p>This is desirable in most cases, as it ensures that a complete view of your tables is captured into Flow.
However, you may find it appropriate to skip the backfill, especially for extremely large tables.</p>
<p>In this case, you may turn off backfilling on a per-table basis. See <a href="#properties" class="">properties</a> for details.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="wal-retention-and-tuning-parameters">WAL Retention and Tuning Parameters<a href="#wal-retention-and-tuning-parameters" class="hash-link" aria-label="Direct link to WAL Retention and Tuning Parameters" title="Direct link to WAL Retention and Tuning Parameters" translate="no"></a></h2>
<p>Postgres logical replication works by reading change events from the writeahead log,
reordering WAL events in memory on the server, and sending them to the client in the
order that transactions were committed. The replication slot used by the capture is
essentially a cursor into that logical sequence of changes.</p>
<p>Because of how Postgres reorders WAL events into atomic transactions, there are two
distinct LSNs which matter when it comes to WAL retention. The <code>confirmed_flush_lsn</code>
property of a replication slot represents the latest event in the WAL which has been
sent to and confirmed by the client. However there may be some number of uncommitted
changes prior to this point in the WAL which are still relevant and will be sent to
the client in later transactions. Thus there is also a <code>restart_lsn</code> property which
represents the point in the WAL from which logical decoding must resume in the future
if the replication connection is closed and restarted.</p>
<p>The server cannot clean up old WAL files so long as there are active replication slots
whose <code>restart_lsn</code> position requires them. There are two ways that <code>restart_lsn</code> might
get stuck at a particular point in the WAL:</p>
<ol>
<li class="">When a capture is deleted, disabled, or repeatedly failing for other reasons,
it is not able to advance the <code>confirmed_flush_lsn</code> and thus <code>restart_lsn</code> cannot
advance either.</li>
<li class="">When a long-running transaction is open on the server the <code>restart_lsn</code> of a
replication slot may be unable to advance even though <code>confirmed_flush_lsn</code> is.</li>
</ol>
<p>By default Postgres will retain an unbounded amount of WAL data and fill up the entire
disk if a replication slot stops advancing. There are two ways to address this:</p>
<ol>
<li class="">When deleting a capture, make sure that the replication slot is also successfully deleted.<!-- -->
<ul>
<li class="">You can list replication slots with the query <code>SELECT * FROM pg_replication_slots</code> and
can drop the replication slot manually with <code>pg_drop_replication_slot('flow_slot')</code>.</li>
</ul>
</li>
<li class="">The database setting <code>max_slot_wal_keep_size</code> can be used to bound the maximum amount of
WAL data which a replication slot can force the database to retain.<!-- -->
<ul>
<li class="">This setting defaults to <code>-1</code> (unlimited) but should be set on production databases
to protect them from unbounded WAL retention filling up the entire disk.</li>
<li class="">Proper sizing of this setting is complex for reasons discussed below, but a value
of <code>50GB</code> should be enough for many databases.</li>
</ul>
</li>
</ol>
<p>When the <code>max_slot_wal_keep_size</code> limit is exceeded, Postgres will terminate any active
replication connections using that slot and invalidate the replication slot so that it
can no longer be used. If Postgres invalidates the replication slot, the Flow capture
using that slot will fail and manual intervention will be required to restart the capture
and re-backfill all tables.</p>
<p>Setting too low of a limit for <code>max_slot_wal_keep_size</code> can cause additional failures
in the presence of long-running transactions. Even when a client is actively receiving
and acknowledging replication events, a long-running transaction can cause the <code>restart_lsn</code>
of the replication slot to remain stuck until that transaction commits. Thus the value of
<code>max_slot_wal_keep_size</code> needs to be set high enough to avoid this happening. The precise
value depends on the overall change rate of your database and worst-case transaction open
time, but there is no downside to using a larger value provided you have enough free disk
space.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="read-only-captures">Read-Only Captures<a href="#read-only-captures" class="hash-link" aria-label="Direct link to Read-Only Captures" title="Direct link to Read-Only Captures" translate="no"></a></h2>
<p>The PostgreSQL CDC connector supports capturing data in "read-only" mode which does not
require a watermark table or watermark writes. This is not the default mode of operation
because it comes with one very significant caveat: you must ensure there are frequent
changes to at least one of the tables being captured.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>When using a read-only capture, you must either ensure that some table you are capturing
is modified regularly, or else create a dedicated "heartbeat" table which is updated
every few minutes and include that in the capture.</p></div></div>
<p>PostgreSQL logical replication can only acknowledge changes which modify at least one
table in the publication. If all of the tables being captured are idle while there are
significant changes to other tables on the same server, the replication slot cannot
advance and PostgreSQL WAL retention will continue to grow, potentially without bound (see <a href="#wal-retention-and-tuning-parameters" class="">WAL Retention and Tuning Parameters</a>)
for more information.</p>
<p>To enable read-only operation:</p>
<ul>
<li class="">In the Flow web app: Select the "Read-Only Capture" checkbox in the "Advanced Options" section of the capture configuration.</li>
<li class="">In the YAML configuration: Set read_only_capture: true in the advanced section of the config.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="capturing-from-read-only-standbys">Capturing from Read-Only Standbys<a href="#capturing-from-read-only-standbys" class="hash-link" aria-label="Direct link to Capturing from Read-Only Standbys" title="Direct link to Capturing from Read-Only Standbys" translate="no"></a></h3>
<p>A read-only capture can be used to capture from a read-only standby replica. This feature can
be useful when you want to offload the impact of CDC operations from your primary database to
a replica.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>PostgreSQL Version Requirement</div><div class="admonitionContent_BuS1"><p>The ability to perform logical decoding from read-only standby replicas was added in <strong>PostgreSQL v16</strong>.
Earlier versions will error out with the message:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ERROR: logical decoding cannot be used while in recovery</span><br></span></code></pre></div></div><p>If you encounter this error, you have the following options:</p><ul>
<li class=""><strong>Upgrade</strong> your PostgreSQL database to version 16 or later</li>
<li class=""><strong>Capture from the primary instance</strong> instead of the standby</li>
<li class="">Use the <a class="" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/postgres-batch/">PostgreSQL Batch Connector</a> to capture the data</li>
</ul></div></div>
<p>In addition to the read-only capture requirement that there be frequent writes to at least one
captured table, the <code>hot_standby_feedback</code> setting must be enabled on the standby from which
you intend to capture.</p>
<p>This setting prevents the primary database from vacuuming rows that are still needed by the
standby for logical decoding. If not enabled, catalog metadata may get vacuumed on the primary
DB while still needed for logical decoding on the standby. This is not a rare edge case, and
will frequently be observed if there are even a few minutes of downtime or replication lag.</p>
<p>This will cause the logical replication slot to be invalidated, breaking the capture process.</p>
<p>The solution is to set <code>hot_standby_feedback = on</code> so that the standby replica will keep the
upstream database informed about what catalog metadata needs to be retained. To enable hot
standby feedback on a self-managed PostgreSQL instance, run the following statements
(on the standby replica):</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">ALTER</span><span class="token plain"> SYSTEM </span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> hot_standby_feedback </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> pg_reload_conf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>You can verify whether the setting is enabled by running <code>SHOW hot_standby_feedback;</code></p>
<p>Managed PostgreSQL instances from a cloud provider may require use of provider-specific
mechanisms to enable this setting and/or reload the modified configuration.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration" translate="no"></a></h2>
<p>You configure connectors either in the Flow web app, or by directly editing the catalog specification file.
See <a class="" href="/pr-preview/pr-2571/concepts/connectors/#using-connectors">connectors</a> to learn more about using connectors. The values and specification sample below provide configuration details specific to the PostgreSQL source connector.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="properties">Properties<a href="#properties" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties" translate="no"></a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="endpoint">Endpoint<a href="#endpoint" class="hash-link" aria-label="Direct link to Endpoint" title="Direct link to Endpoint" translate="no"></a></h4>
<table><thead><tr><th>Property</th><th>Title</th><th>Description</th><th>Type</th><th>Required/Default</th></tr></thead><tbody><tr><td><strong><code>/address</code></strong></td><td>Address</td><td>The host or host<!-- -->:port<!-- --> at which the database can be reached.</td><td>string</td><td>Required</td></tr><tr><td><strong><code>/database</code></strong></td><td>Database</td><td>Logical database name to capture from.</td><td>string</td><td>Required, <code>"postgres"</code></td></tr><tr><td><strong><code>/user</code></strong></td><td>User</td><td>The database user to authenticate as.</td><td>string</td><td>Required, <code>"flow_capture"</code></td></tr><tr><td><strong><code>/password</code></strong></td><td>Password</td><td>Password for the specified database user.</td><td>string</td><td>Required</td></tr><tr><td><code>/historyMode</code></td><td>History Mode</td><td>Capture each change event, without merging.</td><td>boolean</td><td><code>false</code></td></tr><tr><td><code>/advanced</code></td><td>Advanced Options</td><td>Options for advanced users. You should not typically need to modify these.</td><td>object</td><td></td></tr><tr><td><code>/advanced/backfill_chunk_size</code></td><td>Backfill Chunk Size</td><td>The number of rows which should be fetched from the database in a single backfill query.</td><td>integer</td><td><code>4096</code></td></tr><tr><td><code>/advanced/publicationName</code></td><td>Publication Name</td><td>The name of the PostgreSQL publication to replicate from.</td><td>string</td><td><code>"flow_publication"</code></td></tr><tr><td><code>/advanced/skip_backfills</code></td><td>Skip Backfills</td><td>A comma-separated list of fully-qualified table names which should not be backfilled.</td><td>string</td><td></td></tr><tr><td><code>/advanced/slotName</code></td><td>Slot Name</td><td>The name of the PostgreSQL replication slot to replicate from.</td><td>string</td><td><code>"flow_slot"</code></td></tr><tr><td><code>/advanced/watermarksTable</code></td><td>Watermarks Table</td><td>The name of the table used for watermark writes during backfills. Must be fully-qualified in '&lt;schema&gt;.&lt;table&gt;' form.</td><td>string</td><td><code>"public.flow_watermarks"</code></td></tr><tr><td><code>/advanced/sslmode</code></td><td>SSL Mode</td><td>Overrides SSL connection behavior by setting the 'sslmode' parameter.</td><td>string</td><td></td></tr><tr><td><code>/advanced/discover_unpublished_tables</code></td><td>Discover Unpublished Tables</td><td>If <code>true</code>, the capture discovers all tables, even ones not currently in the publication.</td><td>boolean</td><td></td></tr><tr><td><code>/advanced/source_tag</code></td><td>Source Tag</td><td>This value is added as the property 'tag' in the source metadata of each document.</td><td>string</td><td></td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="bindings">Bindings<a href="#bindings" class="hash-link" aria-label="Direct link to Bindings" title="Direct link to Bindings" translate="no"></a></h4>
<table><thead><tr><th>Property</th><th>Title</th><th>Description</th><th>Type</th><th>Required/Default</th></tr></thead><tbody><tr><td><strong><code>/namespace</code></strong></td><td>Namespace</td><td>The <a href="https://www.postgresql.org/docs/9.1/ddl-schemas.html" target="_blank" rel="noopener noreferrer" class="">namespace/schema</a> of the table.</td><td>string</td><td>Required</td></tr><tr><td><strong><code>/stream</code></strong></td><td>Stream</td><td>Table name.</td><td>string</td><td>Required</td></tr><tr><td><strong><code>/syncMode</code></strong></td><td>Sync mode</td><td>Connection method. Always set to <code>incremental</code>.</td><td>string</td><td>Required</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ssl-mode">SSL Mode<a href="#ssl-mode" class="hash-link" aria-label="Direct link to SSL Mode" title="Direct link to SSL Mode" translate="no"></a></h4>
<p>Certain managed PostgreSQL implementations may require you to explicitly set the <a href="https://www.postgresql.org/docs/current/libpq-ssl.html#LIBPQ-SSL-PROTECTION" target="_blank" rel="noopener noreferrer" class="">SSL Mode</a> to connect with Flow. One example is <a href="https://neon.tech/docs/connect/connect-securely" target="_blank" rel="noopener noreferrer" class="">Neon</a>, which requires the setting <code>verify-full</code>. Check your managed PostgreSQL's documentation for details if you encounter errors related to the SSL mode configuration.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="sample">Sample<a href="#sample" class="hash-link" aria-label="Direct link to Sample" title="Direct link to Sample" translate="no"></a></h3>
<p>A minimal capture definition will look like the following:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">captures</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">PREFIX</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">CAPTURE_NAME</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">endpoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">connector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ghcr.io/estuary/source-postgres:dev"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"localhost:5432"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">database</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"postgres"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"flow_capture"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"secret"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">bindings</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">resource</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">stream</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">TABLE_NAME</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">TABLE_NAMESPACE</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">syncMode</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> incremental</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">PREFIX</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">COLLECTION_NAME</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Your capture definition will likely be more complex, with additional bindings for each table in the source database.</p>
<p><a class="" href="/pr-preview/pr-2571/concepts/captures/">Learn more about capture definitions.</a></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="toasted-values">TOASTed values<a href="#toasted-values" class="hash-link" aria-label="Direct link to TOASTed values" title="Direct link to TOASTed values" translate="no"></a></h2>
<p>PostgreSQL has a hard page size limit, usually 8 KB, for performance reasons.
If your tables contain values that exceed the limit, those values can't be stored directly.
PostgreSQL uses <a href="https://www.postgresql.org/docs/current/storage-toast.html" target="_blank" rel="noopener noreferrer" class="">TOAST</a> (The Oversized-Attribute Storage Technique) to
store them separately.</p>
<p>TOASTed values can sometimes present a challenge for systems that rely on the PostgreSQL write-ahead log (WAL), like this connector.
If a change event occurs on a row that contains a TOASTed value, <em>but the TOASTed value itself is unchanged</em>, it is omitted from the WAL.
As a result, the connector emits a row update with the value omitted, which might cause
unexpected results in downstream catalog tasks if adjustments are not made.</p>
<p>The PostgreSQL connector handles TOASTed values for you when you follow the <a class="" href="/pr-preview/pr-2571/concepts/captures/#discovery">standard discovery workflow</a>
or use the <a class="" href="/pr-preview/pr-2571/concepts/web-app/">Flow UI</a> to create your capture.
It uses <a class="" href="/pr-preview/pr-2571/reference/reduction-strategies/merge/">merge</a> <a class="" href="/pr-preview/pr-2571/concepts/schemas/#reductions">reductions</a>
to fill in the previous known TOASTed value in cases when that value is omitted from a row update.</p>
<p>However, due to the event-driven nature of certain tasks in Flow, it's still possible to see unexpected results in your data flow, specifically:</p>
<ul>
<li class="">When you materialize the captured data to another system using a connector that requires <a class="" href="/pr-preview/pr-2571/concepts/materialization/#delta-updates">delta updates</a></li>
<li class="">When you perform a <a class="" href="/pr-preview/pr-2571/concepts/derivations/">derivation</a> that uses TOASTed values</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no"></a></h3>
<p>If you encounter an issue that you suspect is due to TOASTed values, try the following:</p>
<ul>
<li class="">Ensure your collection's schema is using the merge <a class="" href="/pr-preview/pr-2571/concepts/schemas/#reduce-annotations">reduction strategy</a>.</li>
<li class=""><a href="https://www.postgresql.org/docs/9.4/sql-altertable.html" target="_blank" rel="noopener noreferrer" class="">Set REPLICA IDENTITY to FULL</a> for the table. This circumvents the problem by forcing the
WAL to record all values regardless of size. However, this can have performance impacts on your database and must be carefully evaluated.</li>
<li class=""><a href="mailto:support@estuary.dev" target="_blank" rel="noopener noreferrer" class="">Contact Estuary support</a> for assistance.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="publications">Publications<a href="#publications" class="hash-link" aria-label="Direct link to Publications" title="Direct link to Publications" translate="no"></a></h2>
<p>It is recommended that the publication used by the capture only contain the tables that will be captured. In some cases it may be desirable to create this publication for all tables in the database instead of specific tables, for example using:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> PUBLICATION flow_publication </span><span class="token keyword" style="color:#00009f">FOR</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ALL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLES</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">publish_via_partition_root </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>Caution must be used if creating the publication in this way as all existing tables (even those not part of the capture) will be included in it, and if any of them do not have a primary key they will no longer be able to process updates or deletes.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/estuary/flow/edit/master/site/docs/reference/Connectors/capture-connectors/PostgreSQL/PostgreSQL.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/MySQL/singlestore-batch/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SingleStore Batch Query Connector</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pr-preview/pr-2571/reference/Connectors/capture-connectors/PostgreSQL/Supabase/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Supabase</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#supported-versions-and-platforms" class="table-of-contents__link toc-highlight">Supported versions and platforms</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#setup" class="table-of-contents__link toc-highlight">Setup</a><ul><li><a href="#self-hosted-postgresql" class="table-of-contents__link toc-highlight">Self-hosted PostgreSQL</a></li><li><a href="#amazon-aurora" class="table-of-contents__link toc-highlight">Amazon Aurora</a></li><li><a href="#azure-database-for-postgresql" class="table-of-contents__link toc-highlight">Azure Database for PostgreSQL</a></li></ul></li><li><a href="#backfills-and-performance-considerations" class="table-of-contents__link toc-highlight">Backfills and performance considerations</a></li><li><a href="#wal-retention-and-tuning-parameters" class="table-of-contents__link toc-highlight">WAL Retention and Tuning Parameters</a></li><li><a href="#read-only-captures" class="table-of-contents__link toc-highlight">Read-Only Captures</a><ul><li><a href="#capturing-from-read-only-standbys" class="table-of-contents__link toc-highlight">Capturing from Read-Only Standbys</a></li></ul></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#properties" class="table-of-contents__link toc-highlight">Properties</a></li><li><a href="#sample" class="table-of-contents__link toc-highlight">Sample</a></li></ul></li><li><a href="#toasted-values" class="table-of-contents__link toc-highlight">TOASTed values</a><ul><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li></ul></li><li><a href="#publications" class="table-of-contents__link toc-highlight">Publications</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/pr-preview/pr-2571/">Platform Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/pr-preview/pr-2571/reference/Connectors/">Connector Docs</a></li><li class="footer__item"><a href="https://estuary.dev/success-stories/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Success Stories<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://go.estuary.dev/slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/estuary-tech/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/EstuaryDev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/estuary/flow" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@estuarydev" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://estuary.dev/contact-us/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright  2025 Estuary Technologies, Inc. Built with Docusaurus.</div></div></div></footer></div>

</body></html>