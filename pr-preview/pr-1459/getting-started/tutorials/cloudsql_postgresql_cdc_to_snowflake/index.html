<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-getting-started/tutorials/cloudsql_postgresql_cdc_to_snowflake" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">CloudSQL (PostgreSQL) CDC streaming to Snowflake | Estuary Flow</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.estuary.dev/pr-preview/pr-1459/getting-started/tutorials/cloudsql_postgresql_cdc_to_snowflake/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="CloudSQL (PostgreSQL) CDC streaming to Snowflake | Estuary Flow"><meta data-rh="true" name="description" content="Architecture diagram"><meta data-rh="true" property="og:description" content="Architecture diagram"><meta data-rh="true" property="og:image" content="https://storage.googleapis.com/estuary-marketing-strapi-uploads/uploads//architecture_diagram_f3cef5fe7f/architecture_diagram_f3cef5fe7f.png"><link data-rh="true" rel="icon" href="/pr-preview/pr-1459/img/favicon-2.ico"><link data-rh="true" rel="canonical" href="https://docs.estuary.dev/pr-preview/pr-1459/getting-started/tutorials/cloudsql_postgresql_cdc_to_snowflake/"><link data-rh="true" rel="alternate" href="https://docs.estuary.dev/pr-preview/pr-1459/getting-started/tutorials/cloudsql_postgresql_cdc_to_snowflake/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.estuary.dev/pr-preview/pr-1459/getting-started/tutorials/cloudsql_postgresql_cdc_to_snowflake/" hreflang="x-default"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-WK8SB2L",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/pr-preview/pr-1459/assets/css/styles.4642da73.css">
<script src="/pr-preview/pr-1459/assets/js/runtime~main.3cfd7942.js" defer="defer"></script>
<script src="/pr-preview/pr-1459/assets/js/main.115439d7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK8SB2L" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pr-preview/pr-1459/"><div class="navbar__logo"><img src="/pr-preview/pr-1459/img/estuary-new.png" alt="Estuary Flow Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/pr-preview/pr-1459/img/estuary-new.png" alt="Estuary Flow Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Estuary Flow</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pr-preview/pr-1459/">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/estuary/flow" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/pr-preview/pr-1459/">Overview</a><button aria-label="Expand sidebar category &#x27;Overview&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/pr-preview/pr-1459/getting-started/installation/">Get started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1459/getting-started/installation/">Registration and setup</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/pr-preview/pr-1459/getting-started/tutorials/">Tutorials</a><button aria-label="Collapse sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1459/getting-started/tutorials/postgresql_cdc_to_snowflake/">PostgreSQL CDC streaming to Snowflake</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1459/getting-started/tutorials/real_time_cdc_with_mongodb/">Real-time CDC with MongoDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1459/getting-started/tutorials/dataflow-s3-snowflake/">Create your first dataflow with Amazon S3 and Snowflake</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-1459/getting-started/tutorials/continuous-materialized-view/">Create a real-time materialized view in PostgreSQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pr-preview/pr-1459/getting-started/tutorials/cloudsql_postgresql_cdc_to_snowflake/">CloudSQL (PostgreSQL) CDC streaming to Snowflake</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/pr-preview/pr-1459/guides/">User guides</a><button aria-label="Expand sidebar category &#x27;User guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/pr-preview/pr-1459/concepts/">Concepts</a><button aria-label="Expand sidebar category &#x27;Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/pr-preview/pr-1459/reference/Connectors/">Reference</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/pr-preview/pr-1459/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Get started</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/pr-preview/pr-1459/getting-started/tutorials/"><span itemprop="name">Tutorials</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">CloudSQL (PostgreSQL) CDC streaming to Snowflake</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown">
<h1>CloudSQL (PostgreSQL) CDC streaming to Snowflake</h1>
<p><img decoding="async" loading="lazy" src="https://storage.googleapis.com/estuary-marketing-strapi-uploads/uploads//architecture_diagram_f3cef5fe7f/architecture_diagram_f3cef5fe7f.png" alt="Architecture diagram" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>In this tutorial, we&#x27;ll set up a streaming CDC pipeline from GCP CloudSQL (PostgreSQL) to Snowflake using Estuary Flow. By the end, you’ll have learned everything you need to know about building a similar pipeline on your own.You&#x27;ll use Flow&#x27;s PostgreSQL capture connector and Snowflake materialization connector to set up an end-to-end CDC pipeline in three steps:</p>
<ol>
<li>
<p>First, you’ll ingest change event data from a CloudSQL database, using a table filled with generated realistic-looking product data.</p>
</li>
<li>
<p>Then, you’ll learn how to configure Flow to persist data as collections while maintaining data integrity.</p>
</li>
<li>
<p>And finally, you will see how you can materialize these collections in Snowflake to make them ready for downstream real-time analytics!</p>
</li>
</ol>
<p>Before you get started, make sure you do two things.</p>
<ol>
<li>
<p>Sign up for Estuary Flow <a href="https://dashboard.estuary.dev/register" target="_blank" rel="noopener noreferrer">here</a>. It’s simple, fast and free.</p>
</li>
<li>
<p>Make sure you also join the <a href="https://estuary-dev.slack.com/ssb/redirect#/shared-invite/email" target="_blank" rel="noopener noreferrer">Estuary Slack Community</a>. Don’t struggle. Just ask a question.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-cdc">What is CDC?<a href="#what-is-cdc" class="hash-link" aria-label="Direct link to What is CDC?" title="Direct link to What is CDC?">​</a></h2>
<p>CDC, or Change Data Capture, is a method used to track and capture changes made to data in a database. It enables the real-time capture of insertions, updates, and deletions, providing a continuous stream of changes.</p>
<p>This stream of data is invaluable for keeping downstream systems synchronized and up-to-date with the source database, facilitating real-time analytics, replication, and data integration. In essence, CDC allows organizations to capture and react to data changes as they occur, ensuring data accuracy and timeliness across their systems.</p>
<p>If you are interested in the intricacies of change data capture, head over to <a href="https://estuary.dev/cdc-done-correctly/" target="_blank" rel="noopener noreferrer">this</a> article, where we explain the theory behind it - this is not a requirement for this tutorial, so if you want to dive in head first, keep on reading!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<p>This tutorial will assume you have access to the following things:</p>
<ul>
<li>
<p>A GCP account with billing enabled: This tutorial is focused on replicating data from a CloudSQL database.</p>
</li>
<li>
<p>Snowflake account: The target data warehouse for our Data Flow is Snowflake. In order to follow along with the tutorial, a trial account is perfectly fine.</p>
</li>
</ul>
<p>If you do not have access to a CloudSQL instance, check out the <a href="https://docs.estuary.dev/getting-started/tutorials/postgresql_cdc_to_snowflake/" target="_blank" rel="noopener noreferrer">tutorial</a> for CDC streaming from a local database!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-configure-the-cloudsql-database-for-cdc-replication">Step 1. Configure the CloudSQL database for CDC replication<a href="#step-1-configure-the-cloudsql-database-for-cdc-replication" class="hash-link" aria-label="Direct link to Step 1. Configure the CloudSQL database for CDC replication" title="Direct link to Step 1. Configure the CloudSQL database for CDC replication">​</a></h2>
<p>First of all, you’ll need to allow connections between the database and Estuary Flow. There are two ways to do this: by granting direct access to Flow&#x27;s IP or by creating an SSH tunnel.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="to-allow-direct-access">To allow direct access<a href="#to-allow-direct-access" class="hash-link" aria-label="Direct link to To allow direct access" title="Direct link to To allow direct access">​</a></h3>
<p>Enable public IP on your database and add <code>34.121.207.128</code> as an authorized IP address. You can do so by following these steps<!-- -->:On<!-- --> the GCP Console, navigate to the Networking tab on the Connections page, then check the box next to “Public IP” and add the address as an “Authorized network”.</p>
<p>This is how the final configuration should look like:</p>
<p><img decoding="async" loading="lazy" src="https://storage.googleapis.com/estuary-marketing-strapi-uploads/uploads//Screenshot_2024_05_01_at_15_15_21_a75d85da3c/Screenshot_2024_05_01_at_15_15_21_a75d85da3c.png" alt="GCP CloudSQL netowrking configuration" class="img_ev3q"></p>
<p>If you wish to use the <code>gcloud</code> CLI tool, these are the steps you need to follow:</p>
<ol>
<li>First of all, make sure that there is an IPv4 address attached to you CloudSQL instance</li>
</ol>
<p><code>gcloud sql instances &lt;instance_name&gt; patch --assign-ip</code></p>
<ol start="2">
<li>Then, you can enable traffic from Flow’s public address</li>
</ol>
<p><code>gcloud sql instances patch instance_name --authorized-networks=34.121.207.128</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-logical-decoding">Configure logical decoding<a href="#configure-logical-decoding" class="hash-link" aria-label="Direct link to Configure logical decoding" title="Direct link to Configure logical decoding">​</a></h3>
<p>Logical decoding is a feature that allows you to extract changes from the database&#x27;s transaction log in a structured format. Instead of decoding the physical changes to the database files, logical decoding translates the changes into a format that is human-readable and can be easily consumed by applications.To enable it on your CloudSQL instance, follow these steps:</p>
<ol>
<li>
<p>In the Google Cloud console, select the project that contains the Cloud SQL instance for which you want to set a database flag.</p>
</li>
<li>
<p>Open the instance and click Edit.</p>
</li>
<li>
<p>Scroll down to the Flags section.</p>
</li>
<li>
<p>To set a flag that has not been set on the instance before, click Add item, choose the flag from the drop-down menu, and set its value.</p>
<ol>
<li>The flag required to enable logical decoding is <code>cloudsql.logical_decoding</code> and the value should be <code>on</code> .</li>
</ol>
</li>
<li>
<p>Click Save to save your changes.</p>
</li>
<li>
<p>Confirm your changes under Flags on the Overview page.</p>
</li>
</ol>
<p><img decoding="async" loading="lazy" src="https://storage.googleapis.com/estuary-marketing-strapi-uploads/uploads//Screenshot_2024_05_01_at_15_11_27_8008d3fc6e/Screenshot_2024_05_01_at_15_11_27_8008d3fc6e.png" alt="CloudSQL logical decoding database flag" class="img_ev3q"></p>
<p>Alternatively, you can use the <code>gcloud</code> command-line tool to achieve the same thing:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gcloud sql instances &lt;instance_name&gt; patch --database-flags=cloudsql.logical_decoding=on</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="allow-secure-connections-via-ssh-tunneling">Allow secure connections via SSH tunneling<a href="#allow-secure-connections-via-ssh-tunneling" class="hash-link" aria-label="Direct link to Allow secure connections via SSH tunneling" title="Direct link to Allow secure connections via SSH tunneling">​</a></h3>
<p>As an extra layer of security, you might want to tunnel traffic through an SSH bastion. Here are the steps you need to take to do so. If you prefer directly connecting to the instance, you can skip this section and continue with “Generating Test Data”.To allow SSH tunneling to a database instance hosted on Google Cloud, you must set up a virtual machine (VM).</p>
<ol>
<li>
<p>Begin by finding your public SSH key on your local machine. In the .ssh subdirectory of your user home directory, look for the PEM file that contains the private SSH key. Check that it starts with -----BEGIN RSA PRIVATE KEY-----, which indicates it is an RSA-based file.</p>
<ul>
<li>If no such file exists, generate one using the command:<code>ssh-keygen -m PEM -t rsa</code>* If a PEM file exists, but starts with -----BEGIN OPENSSH PRIVATE KEY-----, convert it with the command:<code>ssh-keygen -p -N &quot;&quot; -m pem -f /path/to/key</code></li>
<li>If your Google login differs from your local username, generate a key that includes your Google email address as a comment:<code>ssh-keygen -m PEM -t rsa -C user@domain.com</code></li>
</ul>
</li>
<li>
<p><a href="https://cloud.google.com/compute/docs/instances/create-start-instance" target="_blank" rel="noopener noreferrer">Create and start a new VM in GCP</a>, <a href="https://cloud.google.com/compute/docs/images/os-details#user-space-features" target="_blank" rel="noopener noreferrer">choosing an image that supports OS Login</a>.</p>
</li>
<li>
<p><a href="https://cloud.google.com/compute/docs/connect/add-ssh-keys" target="_blank" rel="noopener noreferrer">Add your public key to the VM</a>.</p>
</li>
<li>
<p><a href="https://cloud.google.com/compute/docs/ip-addresses/reserve-static-external-ip-address" target="_blank" rel="noopener noreferrer">Reserve an external IP address</a> and connect it to the VM during setup. Note the generated address.</p>
</li>
</ol>
<p>Finally, remember when you configure your connector as described in the <a href="https://docs.estuary.dev/reference/Connectors/capture-connectors/PostgreSQL/google-cloud-sql-postgres/#configuration" target="_blank" rel="noopener noreferrer">configuration</a> section above, including the additional networkTunnel configuration to enable the SSH tunnel. See <a href="https://docs.estuary.dev/concepts/connectors/#connecting-to-endpoints-on-secure-networks" target="_blank" rel="noopener noreferrer">Connecting to endpoints on secure networks</a> for additional details and a sample.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="generating-test-data">Generating Test Data<a href="#generating-test-data" class="hash-link" aria-label="Direct link to Generating Test Data" title="Direct link to Generating Test Data">​</a></h3>
<p>If you don’t have any readily available data to replicate in your database – maybe you are setting up a fresh database – here’s a handy script that will create a table for you and continuously insert records into it until you terminate the process.</p>
<p>The easiest way to execute it is to open a Cloud shell inside your GCP console, which is pre-configured to be authenticated toward the database, so you can just save this script as a file called <code>datagen.sh</code> and execute it.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Don’t forget to update the connection details at the top of the script, and to make the file executable using <code>chmod u+x datagen.sh</code> before running it!</div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Database connection parameters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_HOST=&quot;your_database_host&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_PORT=&quot;your_database_port&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_NAME=&quot;your_database_name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_USER=&quot;your_database_user&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DB_PASSWORD=&quot;your_database_password&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Define the table creation SQL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TABLE_NAME=&quot;sample_table&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE_TABLE_SQL=&quot;CREATE TABLE IF NOT EXISTS $TABLE_NAME (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id SERIAL PRIMARY KEY,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data TEXT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Function to insert mock data into the table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">insert_mock_data() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RANDOM_DATA=$(cat /dev/urandom | tr -dc &#x27;a-zA-Z0-9&#x27; | fold -w 10 | head -n 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    psql -h $DB_HOST -p $DB_PORT -U $DB_USER -d $DB_NAME -c &quot;INSERT INTO $TABLE_NAME (data) VALUES (&#x27;$RANDOM_DATA&#x27;);&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create the table if it doesn&#x27;t exist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">psql -h $DB_HOST -p $DB_PORT -U $DB_USER -d $DB_NAME -c &quot;$CREATE_TABLE_SQL&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Start loading mock data into the table every second</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">while true; do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    insert_mock_data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Record inserted&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sleep 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Feel free to let the script run until the end of the tutorial, it’s going to be useful to see live data arriving in our test table!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="database-configuration">Database configuration<a href="#database-configuration" class="hash-link" aria-label="Direct link to Database configuration" title="Direct link to Database configuration">​</a></h3>
<p>Now that we have some data ready to be replicated, let’s quickly configure the remaining Postgres objects.</p>
<p>To enable CDC replication in PostgreSQL, several database objects need to be created and configured. These objects facilitate the capture and propagation of data changes to downstream systems.</p>
<p><code>CREATE USER flow_capture WITH REPLICATION IN ROLE cloudsqlsuperuser LOGIN PASSWORD &#x27;secret&#x27;;</code></p>
<p>This user is dedicated to the CDC replication process. It is granted the necessary permissions to read all data from the database, allowing it to capture changes across tables efficiently. In a production environment, make sure you use a more secure password than what is in the example.</p>
<p><code>GRANT SELECT ON ALL TABLES IN SCHEMA public TO flow_capture;</code></p>
<p>Grants read access to all tables in the public schema for capturing changes.</p>
<p><code>ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT SELECT ON TABLES TO flow_capture;</code></p>
<p>Sets default read privileges on future tables for continuous data capture.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Granting select on all tables in the public schema is only for convenience, it is possible to grant a more granular set of permissions. For more details check out the connector docs.</div></div>
<p><code>CREATE TABLE IF NOT EXISTS public.flow_watermarks (slot TEXT PRIMARY KEY, watermark TEXT);</code></p>
<p>The flow_watermarks table is a small “scratch space” to which the connector occasionally writes a small amount of data to ensure accuracy when backfilling preexisting table contents.</p>
<p><code>GRANT ALL PRIVILEGES ON TABLE public.flow_watermarks TO flow_capture;</code></p>
<p>Allows the replication process full control over the watermark table.</p>
<p><code>CREATE PUBLICATION flow_publication;</code></p>
<p>Initiates a publication for defining replicated data. This represents the set of tables for which change events will be reported.</p>
<p><code>ALTER PUBLICATION flow_publication SET (publish_via_partition_root = true);</code></p>
<p>Configures publication to include changes from partitioned tables. By setting publish_via_partition_root to true, the publication ensures that updates to partitioned tables are correctly captured and replicated.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>The table in this tutorial is not partitioned, but we recommend always setting publish_via_partition_root when creating a publication.</div></div>
<p><code>ALTER PUBLICATION flow_publication ADD TABLE public.flow_watermarks, public.sample_table;</code></p>
<p>Adds tables to the publication for selective data replication. This is where we specify our previously created sample_table, but you should remember to add other tables you wish to replicate here too.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-set-up-capture">Step 2. Set up Capture<a href="#step-2-set-up-capture" class="hash-link" aria-label="Direct link to Step 2. Set up Capture" title="Direct link to Step 2. Set up Capture">​</a></h2>
<p>Good news, the hard part is over! Smooth sailing from here on out. Head over to your Flow dashboard (if you haven’t registered yet, you can do so <a href="https://dashboard.estuary.dev/register" target="_blank" rel="noopener noreferrer">here</a>) and create a new <strong>Capture.</strong></p>
<p>Configure the connection to the database based on the information you find on the GCP console and press <strong>Next.</strong></p>
<p><img decoding="async" loading="lazy" src="https://storage.googleapis.com/estuary-marketing-strapi-uploads/uploads//configure_cloudsql_capture_2adc597c83/configure_cloudsql_capture_2adc597c83.png" alt="PostgreSQL capture configuration" class="img_ev3q"></p>
<p>In the next step, we can configure how our incoming data should be represented in Flow as collections. As a quick refresher, let’s recap how Flow represents data on a high level.</p>
<p><strong>Documents</strong></p>
<p>The documents of your flows are stored in collections: real-time data lakes of JSON documents in cloud storage. Documents being backed by an object storage mean that once you start capturing data, you won’t have to worry about it not being available to replay – object stores such as S3 can be configured to cheaply store data forever. See <a href="https://docs.estuary.dev/concepts/collections/#documents" target="_blank" rel="noopener noreferrer">docs page</a> for more information.</p>
<p><strong>Schemas</strong></p>
<p>Flow documents and collections always have an associated schema that defines the structure, representation, and constraints of your documents. In most cases, Flow generates a functioning schema on your behalf during the discovery phase of capture, which has already automatically happened - that’s why you’re able to take a peek into the structure of the incoming data!</p>
<p>To see how Flow parsed the incoming records, click on the Collection tab and verify the inferred schema looks correct.</p>
<p><img decoding="async" loading="lazy" src="https://storage.googleapis.com/estuary-marketing-strapi-uploads/uploads//configure_cloudsql_collections_f28e484c28/configure_cloudsql_collections_f28e484c28.png" alt="Collections configuration" class="img_ev3q"></p>
<p>Before you advance to the next step, let’s take a look at the other configuration options we have here. You’ll see three toggles, all turned on by default:</p>
<ul>
<li>
<p><strong>Automatically keep schemas up to date</strong></p>
</li>
<li>
<p><strong>Automatically add new source collections</strong></p>
</li>
<li>
<p><strong>Breaking changes re-version collections</strong></p>
</li>
</ul>
<p>All of these settings relate to how Flow handles schema evolution, so let’s take a quick detour to explain them from a high-level perspective.</p>
<p>Estuary Flow&#x27;s schema evolution feature seamlessly handles updates to dataset structures within a Data Flow, ensuring uninterrupted operation. Collection specifications define each dataset, including key, schema, and partitions. When specs change, schema evolution automatically updates associated components to maintain compatibility.</p>
<p>It addresses breaking changes by updating materializations or recreating collections with new names, preventing disruptions. Common causes of breaking changes include modifications to collection schemas, which require updates to materializations.</p>
<p>Overall, schema evolution streamlines adaptation to structural changes, maintaining smooth data flow within the system. For more information, check out the dedicated documentation <a href="https://docs.estuary.dev/guides/schema-evolution/" target="_blank" rel="noopener noreferrer">page</a>.</p>
<p>For the sake of this tutorial, feel free to leave everything at its default setting and press <strong>Next</strong> again, then <strong>Save and Publish</strong> to deploy the connector.</p>
<p>When the PostgreSQL capture is initiated, by default, the connector first backfills, or captures the targeted tables in their current state. It then transitions to capturing change events on an ongoing basis.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-set-up-materialization">Step 3. Set up Materialization<a href="#step-3-set-up-materialization" class="hash-link" aria-label="Direct link to Step 3. Set up Materialization" title="Direct link to Step 3. Set up Materialization">​</a></h2>
<p>Similarly to the source side, we’ll need to set up some initial configuration in Snowflake to allow Flow to materialize collections into a table.</p>
<p>Preparing Snowflake for use with Estuary Flow involves the following steps:</p>
<ol>
<li>Keep the Flow web app open and open a new tab or window to access your Snowflake console.</li>
<li>Over at Snowflake, create a new SQL worksheet. This provides an interface to execute SQL queries.</li>
<li>Paste the provided script into the SQL console, adjusting the value for <code>estuary_password</code> to a strong password.</li>
</ol>
<p>At a higher level, this script automates the setup process for a Snowflake database environment tailored for Flow, assuming some sane default configurations. It essentially creates the necessary infrastructure components and assigns appropriate permissions.</p>
<p>Here&#x27;s what it achieves in simpler terms:</p>
<ul>
<li>
<p>It creates a role (a set of permissions) for Flow and grants it necessary privileges like creating schemas, monitoring, and using resources.</p>
</li>
<li>
<p>It ensures that the required database exists and creates it if it doesn&#x27;t. Similarly, it creates a schema within that database.</p>
</li>
<li>
<p>It sets up a user account specifically for Flow with appropriate default settings and privileges.</p>
</li>
<li>
<p>It configures a warehouse, which is the computational engine in Snowflake, specifying its size, type, and behavior (like auto-suspend and auto-resume).</p>
</li>
</ul>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> database_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ESTUARY_DB&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> warehouse_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ESTUARY_WH&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> estuary_role </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ESTUARY_ROLE&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> estuary_user </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ESTUARY_USER&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> estuary_password </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;secret&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> estuary_schema </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ESTUARY_SCHEMA&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- create role and schema for Estuary</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> role </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exists</span><span class="token plain"> identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$estuary_role</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> role identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$estuary_role</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> role SYSADMIN</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Create snowflake DB</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">database</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exists</span><span class="token plain"> identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$database_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">database</span><span class="token plain"> identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$database_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">schema</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exists</span><span class="token plain"> identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$estuary_schema</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- create a user for Estuary</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exists</span><span class="token plain"> identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$estuary_user</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">password </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> $estuary_password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">default_role </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> $estuary_role</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">default_warehouse </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> $warehouse_name</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> role identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$estuary_role</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain"> identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$estuary_user</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">all</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">schema</span><span class="token plain"> identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$estuary_schema</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$estuary_role</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- create a warehouse for estuary</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> warehouse </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exists</span><span class="token plain"> identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$warehouse_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">warehouse_size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> xsmall</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">warehouse_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> standard</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto_suspend </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto_resume </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">initially_suspended </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- grant Estuary role access to warehouse</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">USAGE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> warehouse identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$warehouse_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> role identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$estuary_role</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- grant Estuary access to database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SCHEMA</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MONITOR</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">USAGE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">database</span><span class="token plain"> identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$database_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> role identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$estuary_role</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- change role to ACCOUNTADMIN for STORAGE INTEGRATION support to Estuary (only needed for Snowflake on GCP)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> role ACCOUNTADMIN</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">grant</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> INTEGRATION </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> account </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> role identifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$estuary_role</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> role sysadmin</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">COMMIT</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>Execute all the queries by clicking the drop-down arrow next to the Run button and selecting &quot;Run All.&quot;</li>
<li>Snowflake will process the queries, setting up the necessary roles, databases, schemas, users, and warehouses for Estuary Flow.</li>
<li>Once the setup is complete, return to the Flow web application to continue with the integration process.</li>
</ol>
<p>Back in Flow, head over to the <strong>Source</strong> page, where you can <a href="https://dashboard.estuary.dev/materializations/create" target="_blank" rel="noopener noreferrer">create a new Materialization</a>. Choose Snowflake and start filling out the connection details based on the script you executed in the previous step. If you haven’t changed anything, this is how the values should look like:</p>
<p><img decoding="async" loading="lazy" src="https://storage.googleapis.com/estuary-marketing-strapi-uploads/uploads//configure_materialization_b9f57b4145/configure_materialization_b9f57b4145.png" alt="Materialization configuration" class="img_ev3q"></p>
<p>You can grab your Snowflake host URL and account identifier by navigating to these two little buttons on the Snowflake UI.</p>
<p><img decoding="async" loading="lazy" src="https://storage.googleapis.com/estuary-marketing-strapi-uploads/uploads//snowflake_account_id_af1cc78df8/snowflake_account_id_af1cc78df8.png" alt="Snowflake account identifier location" class="img_ev3q"></p>
<p>If you scroll down to the Advanced Options section, you will be able to configure the &quot;Update Delay&quot; parameter. If you leave this parameter unset, the default value of 30 minutes will be used.</p>
<p><img decoding="async" loading="lazy" src="https://storage.googleapis.com/estuary-marketing-strapi-uploads/uploads//snowflake_update_delay_cf9b6e8f79/snowflake_update_delay_cf9b6e8f79.png" alt="Update Delay configuration" class="img_ev3q"></p>
<p>The Update Delay parameter in Flow materializations offers a flexible approach to data ingestion scheduling. This option allows users to control when the materialization or capture tasks pull in new data by specifying a delay period.</p>
<p>It represents the amount of time the system will wait before it begins materializing the latest data.</p>
<p>For example, if an update delay is set to 2 hours, the materialization task will pause for 2 hours before processing the latest available data. This delay ensures that data is not pulled in immediately after it becomes available, allowing for batching and other optimizations that can reduce warehouse load and processing time.</p>
<p>After the connection details are in place, the next step is to link the capture we just created to Flow is able to see collections we are loading data into from Postgres.</p>
<p>You can achieve this by clicking on the “Source from Capture” button, and selecting the name of the capture from the table.</p>
<p><img decoding="async" loading="lazy" src="https://storage.googleapis.com/estuary-marketing-strapi-uploads/uploads//link_capture_e682818835/link_capture_e682818835.png" alt="Capture link" class="img_ev3q"></p>
<p>After pressing continue, you are met with a few configuration options, but for now, feel free to press <strong>Next,</strong> then <strong>Save and Publish</strong> in the top right corner, the defaults will work perfectly fine for this tutorial.</p>
<p>And that’s pretty much it, you’ve successfully published a CDC pipeline!Let’s check out Snowflake to see how the data looks.</p>
<p><img decoding="async" loading="lazy" src="https://storage.googleapis.com/estuary-marketing-strapi-uploads/uploads//verify_snowflake_95028e23a8/verify_snowflake_95028e23a8.png" alt="Data landing in Snowflake" class="img_ev3q"></p>
<p>Looks like the backfill process did its job, data is in Snowflake as expected, and the schema of the table is properly configured by the connector based on the types of the original table in Postgres.</p>
<p>To get a feel for how the data flow works in action; feel free to jump back into the terminal and insert or modify some records in our products table then head over to either the Flow web UI or to Snowflake and query the materialized dataset to see the changes!</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Based on your configuration of the &quot;Update Delay&quot; parameter when setting up the Snowflake materialization, you might have to wait until the configured amount of time passes in order for the materialization process to be triggered.:::</div><div class="admonitionContent_BuS1"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-considerations">Performance considerations<a href="#performance-considerations" class="hash-link" aria-label="Direct link to Performance considerations" title="Direct link to Performance considerations">​</a></h3><p><strong>Delta Updates</strong></p><p>The Snowflake connector supports both standard (merge) and delta updates. The default is to use standard updates. If you&#x27;re certain that all events will have unique keys, enabling delta updates is a simple way to improve performance with no effect on the output. However, enabling delta updates is not suitable for all workflows, as the resulting table in Snowflake won&#x27;t be fully reduced. Check out the docs for the details.</p><p><strong>Warehouse uptime optimizations</strong></p><p>Snowflake compute is billed per second with a minimum charge of 60 seconds. Inactive warehouses have no charges. To minimize costs, reduce active time. The warehouse becomes active with each transaction committed during materialization. Frequent updates may lead to excessive active time and higher bills. To manage this:</p><ol>
<li>
<p>Set auto-suspend for your Snowflake warehouse to 60 seconds. Example query: <code>ALTER WAREHOUSE ESTUARY_WH SET auto_suspend = 60;</code></p>
</li>
<li>
<p>Adjust the materialization&#x27;s update delay in the advanced configuration. For instance, setting auto-suspend and a 30-minute delay can result in just 48 minutes of daily active time.</p>
</li>
</ol><p>Check out the performance considerations section in our docs for more!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="wrapping-up">Wrapping up<a href="#wrapping-up" class="hash-link" aria-label="Direct link to Wrapping up" title="Direct link to Wrapping up">​</a></h2><p>Congratulations! 🎉 You&#x27;ve successfully set up a CDC pipeline from CloudSQL to Snowflake using Estuary Flow. All it took was a few minutes to set up an end-to-end CDC pipeline that allows you to materialize change events in Snowflake with low latency.</p><p>If you’ve created a CloudSQL database for the sake of this tutorial, don’t forget to disable it!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps">​</a></h2><p>That’s it! You should have everything you need to know to create your own data pipeline for loading data into Snowflake!</p><p>Now try it out on your own CloudSQL database or other sources.If you want to learn more, make sure you read through the <a href="https://docs.estuary.dev/" target="_blank" rel="noopener noreferrer">Estuary documentation</a>.</p><p>You’ll find instructions on how to use other connectors <a href="https://docs.estuary.dev/" target="_blank" rel="noopener noreferrer">here</a>. There are more tutorials <a href="https://docs.estuary.dev/guides/" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Also, don’t forget to join the <a href="https://estuary-dev.slack.com/ssb/redirect#/shared-invite/email" target="_blank" rel="noopener noreferrer">Estuary Slack Community</a>!</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/estuary/flow/edit/master/site/docs/getting-started/tutorials/cloudsql-postgresql-cdc-to-snowflake.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/pr-preview/pr-1459/getting-started/tutorials/continuous-materialized-view/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Create a real-time materialized view in PostgreSQL</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pr-preview/pr-1459/guides/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Flow user guides</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#what-is-cdc" class="table-of-contents__link toc-highlight">What is CDC?</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#step-1-configure-the-cloudsql-database-for-cdc-replication" class="table-of-contents__link toc-highlight">Step 1. Configure the CloudSQL database for CDC replication</a><ul><li><a href="#to-allow-direct-access" class="table-of-contents__link toc-highlight">To allow direct access</a></li><li><a href="#configure-logical-decoding" class="table-of-contents__link toc-highlight">Configure logical decoding</a></li><li><a href="#allow-secure-connections-via-ssh-tunneling" class="table-of-contents__link toc-highlight">Allow secure connections via SSH tunneling</a></li><li><a href="#generating-test-data" class="table-of-contents__link toc-highlight">Generating Test Data</a></li><li><a href="#database-configuration" class="table-of-contents__link toc-highlight">Database configuration</a></li></ul></li><li><a href="#step-2-set-up-capture" class="table-of-contents__link toc-highlight">Step 2. Set up Capture</a></li><li><a href="#step-3-set-up-materialization" class="table-of-contents__link toc-highlight">Step 3. Set up Materialization</a><ul><li><a href="#performance-considerations" class="table-of-contents__link toc-highlight">Performance considerations</a></li></ul></li><li><a href="#wrapping-up" class="table-of-contents__link toc-highlight">Wrapping up</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/pr-preview/pr-1459/">Flow Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/EstuaryDev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/estuary/flow" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Estuary Technologies, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>