([]*flow.CollectionSpec) (len=4) {
  (*flow.CollectionSpec)(name:"a/collection" write_schema_json:"{\"$id\":\"file:///build.flow.yaml?ptr=/collections/a~1collection/schema\",\"properties\":{\"a_key\":{\"type\":\"string\"},\"a_val\":{\"type\":\"integer\"}},\"required\":[\"a_key\"],\"type\":\"object\"}" key:"/a_key" uuid_ptr:"/_meta/uuid" projections:<ptr:"/_meta/flow_truncated" field:"_meta/flow_truncated" inference:<types:"boolean" title:"Flow truncation indicator" description:"Indicates whether any of the materialized values for this row have been truncated to make them fit inside the limitations of the destination system." exists:MUST > > projections:<ptr:"/a_key" field:"a_key" is_primary_key:true inference:<types:"string" string:<> exists:MUST > > projections:<ptr:"/a_val" field:"a_val" inference:<types:"integer" exists:MAY > > projections:<field:"flow_document" inference:<types:"object" exists:MUST > > projections:<ptr:"/_meta/uuid" field:"flow_published_at" inference:<types:"string" string:<format:"date-time" content_encoding:"uuid" > title:"Flow Publication Time" description:"Flow publication date-time of this document" exists:MUST > > ack_template_json:"{\"_meta\":{\"ack\":true,\"uuid\":\"DocUUIDPlaceholder-329Bb50aa48EAa9ef\"}}" partition_template:<name:"a/collection/00ffffffffffffff" replication:3 labels:<labels:<name:"app.gazette.dev/managed-by" value:"estuary.dev/flow" > labels:<name:"content-type" value:"application/x-ndjson" > labels:<name:"estuary.dev/build" value:"7777777777777777" > labels:<name:"estuary.dev/collection" value:"a/collection" > > fragment:<length:536870912 compression_codec:GZIP stores:"gs://example-bucket/" refresh_interval:<seconds:300 > path_postfix_template:"utc_date={{.Spool.FirstAppendTime.Format \"2006-01-02\"}}/utc_hour={{.Spool.FirstAppendTime.Format \"15\"}}" > flags:4 max_append_rate:4194304 > ),
  (*flow.CollectionSpec)(name:"a/derivation" write_schema_json:"{\"$id\":\"file:///build.flow.yaml?ptr=/collections/a~1derivation/schema\",\"properties\":{\"a_key\":{\"type\":\"string\"}},\"required\":[\"a_key\"],\"type\":\"object\"}" key:"/a_key" uuid_ptr:"/_meta/uuid" projections:<ptr:"/_meta/flow_truncated" field:"_meta/flow_truncated" inference:<types:"boolean" title:"Flow truncation indicator" description:"Indicates whether any of the materialized values for this row have been truncated to make them fit inside the limitations of the destination system." exists:MUST > > projections:<ptr:"/a_key" field:"a_key" is_primary_key:true inference:<types:"string" string:<> exists:MUST > > projections:<field:"flow_document" inference:<types:"object" exists:MUST > > projections:<ptr:"/_meta/uuid" field:"flow_published_at" inference:<types:"string" string:<format:"date-time" content_encoding:"uuid" > title:"Flow Publication Time" description:"Flow publication date-time of this document" exists:MUST > > ack_template_json:"{\"_meta\":{\"ack\":true,\"uuid\":\"DocUUIDPlaceholder-329Bb50aa48EAa9ef\"}}" partition_template:<name:"a/derivation/00ffffffffffffff" replication:3 labels:<labels:<name:"app.gazette.dev/managed-by" value:"estuary.dev/flow" > labels:<name:"content-type" value:"application/x-ndjson" > labels:<name:"estuary.dev/build" value:"7777777777777777" > labels:<name:"estuary.dev/collection" value:"a/derivation" > > fragment:<length:536870912 compression_codec:GZIP stores:"gs://example-bucket/" refresh_interval:<seconds:300 > path_postfix_template:"utc_date={{.Spool.FirstAppendTime.Format \"2006-01-02\"}}/utc_hour={{.Spool.FirstAppendTime.Format \"15\"}}" > flags:4 max_append_rate:4194304 > derivation:<connector_type:TYPESCRIPT config_json:"{\"module\":\"import { IDerivation, Document, SourceSwizzle } from 'flow/a/derivation.ts';\\n\\nexport class Derivation extends IDerivation {\\n    swizzle(source: { doc: SourceSwizzle }): Document[] {\\n      const doc = source.doc;\\n      return [{a_key: doc.a_key.repeat(doc.a_val ? doc.a_val : 1)}];\\n    }\\n}\\n\"}" transforms:<name:"swizzle" collection:<name:"a/collection" write_schema_json:"{\"$id\":\"file:///build.flow.yaml?ptr=/collections/a~1collection/schema\",\"properties\":{\"a_key\":{\"type\":\"string\"},\"a_val\":{\"type\":\"integer\"}},\"required\":[\"a_key\"],\"type\":\"object\"}" key:"/a_key" uuid_ptr:"/_meta/uuid" projections:<ptr:"/_meta/flow_truncated" field:"_meta/flow_truncated" inference:<types:"boolean" title:"Flow truncation indicator" description:"Indicates whether any of the materialized values for this row have been truncated to make them fit inside the limitations of the destination system." exists:MUST > > projections:<ptr:"/a_key" field:"a_key" is_primary_key:true inference:<types:"string" string:<> exists:MUST > > projections:<ptr:"/a_val" field:"a_val" inference:<types:"integer" exists:MAY > > projections:<field:"flow_document" inference:<types:"object" exists:MUST > > projections:<ptr:"/_meta/uuid" field:"flow_published_at" inference:<types:"string" string:<format:"date-time" content_encoding:"uuid" > title:"Flow Publication Time" description:"Flow publication date-time of this document" exists:MUST > > ack_template_json:"{\"_meta\":{\"ack\":true,\"uuid\":\"DocUUIDPlaceholder-329Bb50aa48EAa9ef\"}}" partition_template:<name:"a/collection/00ffffffffffffff" replication:3 labels:<labels:<name:"app.gazette.dev/managed-by" value:"estuary.dev/flow" > labels:<name:"content-type" value:"application/x-ndjson" > labels:<name:"estuary.dev/build" value:"7777777777777777" > labels:<name:"estuary.dev/collection" value:"a/collection" > > fragment:<length:536870912 compression_codec:GZIP stores:"gs://example-bucket/" refresh_interval:<seconds:300 > path_postfix_template:"utc_date={{.Spool.FirstAppendTime.Format \"2006-01-02\"}}/utc_hour={{.Spool.FirstAppendTime.Format \"15\"}}" > flags:4 max_append_rate:4194304 > > partition_selector:<include:<labels:<name:"estuary.dev/collection" value:"a/collection" > > exclude:<> > lambda_config_json:"null" journal_read_suffix:"derive/a/derivation/swizzle" > shard_template:<id:"derivation/a/derivation/00ffffffffffffff" recovery_log_prefix:"recovery" hint_prefix:"/estuary/flow/hints" hint_backups:2 max_txn_duration:<seconds:1 > labels:<labels:<name:"app.gazette.dev/managed-by" value:"estuary.dev/flow" > labels:<name:"estuary.dev/build" value:"7777777777777777" > labels:<name:"estuary.dev/log-level" value:"info" > labels:<name:"estuary.dev/task-name" value:"a/derivation" > labels:<name:"estuary.dev/task-type" value:"derivation" > > ring_buffer_size:65536 read_channel_size:4096 > recovery_log_template:<name:"recovery/derivation/a/derivation/00ffffffffffffff" replication:3 labels:<labels:<name:"app.gazette.dev/managed-by" value:"estuary.dev/flow" > labels:<name:"content-type" value:"application/x-gazette-recoverylog" > labels:<name:"estuary.dev/build" value:"7777777777777777" > labels:<name:"estuary.dev/task-name" value:"a/derivation" > labels:<name:"estuary.dev/task-type" value:"derivation" > > fragment:<length:268435456 compression_codec:SNAPPY stores:"gs://example-bucket/" refresh_interval:<seconds:300 > > flags:4 max_append_rate:4194304 > > ),
  (*flow.CollectionSpec)(name:"ops.us-central1.v1/logs" write_schema_json:"{\"$defs\":{\"__flowInline1\":{\"$id\":\"builtin://flow/ops-catalog/ops-shard-schema.json\",\"$schema\":\"https://json-schema.org/draft-07/schema\",\"description\":\"Identifies a specific shard of a task, which may be the source of a log message or metrics\",\"properties\":{\"keyBegin\":{\"description\":\"The inclusive beginning of the shard's assigned key range\",\"pattern\":\"[0-9a-f]{8}\",\"type\":\"string\"},\"kind\":{\"description\":\"The type of the catalog task\",\"enum\":[\"capture\",\"derivation\",\"materialization\"]},\"name\":{\"description\":\"The name of the catalog task (without the task type prefix)\",\"type\":\"string\"},\"rClockBegin\":{\"description\":\"The inclusive beginning of the shard's assigned rClock range\",\"pattern\":\"[0-9a-f]{8}\",\"type\":\"string\"}},\"required\":[\"kind\",\"name\",\"keyBegin\",\"rClockBegin\"],\"title\":\"Flow shard id\",\"type\":\"object\"}},\"$id\":\"builtin://flow/ops-catalog/ops-log-schema.json\",\"$schema\":\"https://json-schema.org/draft-07/schema\",\"description\":\"Logs related to the processing of a Flow capture, derivation, or materialization\",\"properties\":{\"fields\":{\"description\":\"Map of keys and values that are associated with this log entry.\",\"type\":\"object\"},\"level\":{\"enum\":[\"error\",\"warn\",\"info\",\"debug\",\"trace\"]},\"message\":{\"type\":\"string\"},\"shard\":{\"$ref\":\"ops-shard-schema.json\"},\"ts\":{\"description\":\"Timestamp corresponding to the start of the transaction\",\"format\":\"date-time\",\"type\":\"string\"}},\"required\":[\"shard\",\"ts\",\"level\"],\"title\":\"Flow task logs\",\"type\":\"object\"}" key:"/shard/name" key:"/shard/keyBegin" key:"/shard/rClockBegin" key:"/ts" uuid_ptr:"/_meta/uuid" partition_fields:"kind" partition_fields:"name" projections:<ptr:"/_meta/flow_truncated" field:"_meta/flow_truncated" inference:<types:"boolean" title:"Flow truncation indicator" description:"Indicates whether any of the materialized values for this row have been truncated to make them fit inside the limitations of the destination system." exists:MUST > > projections:<ptr:"/fields" field:"fields" inference:<types:"object" description:"Map of keys and values that are associated with this log entry." exists:MAY > > projections:<field:"flow_document" inference:<types:"object" title:"Flow task logs" description:"Logs related to the processing of a Flow capture, derivation, or materialization" exists:MUST > > projections:<ptr:"/_meta/uuid" field:"flow_published_at" inference:<types:"string" string:<format:"date-time" content_encoding:"uuid" > title:"Flow Publication Time" description:"Flow publication date-time of this document" exists:MUST > > projections:<ptr:"/shard/kind" field:"kind" explicit:true is_partition_key:true inference:<types:"string" string:<> description:"The type of the catalog task" exists:MUST > > projections:<ptr:"/level" field:"level" inference:<types:"string" string:<> exists:MUST > > projections:<ptr:"/message" field:"message" inference:<types:"string" string:<> exists:MAY > > projections:<ptr:"/shard/name" field:"name" explicit:true is_partition_key:true is_primary_key:true inference:<types:"string" string:<> description:"The name of the catalog task (without the task type prefix)" exists:MUST > > projections:<ptr:"/shard" field:"shard" inference:<types:"object" title:"Flow shard id" description:"Identifies a specific shard of a task, which may be the source of a log message or metrics" exists:MUST > > projections:<ptr:"/shard/keyBegin" field:"shard/keyBegin" is_primary_key:true inference:<types:"string" string:<> description:"The inclusive beginning of the shard's assigned key range" exists:MUST > > projections:<ptr:"/shard/kind" field:"shard/kind" inference:<types:"string" string:<> description:"The type of the catalog task" exists:MUST > > projections:<ptr:"/shard/name" field:"shard/name" is_primary_key:true inference:<types:"string" string:<> description:"The name of the catalog task (without the task type prefix)" exists:MUST > > projections:<ptr:"/shard/rClockBegin" field:"shard/rClockBegin" is_primary_key:true inference:<types:"string" string:<> description:"The inclusive beginning of the shard's assigned rClock range" exists:MUST > > projections:<ptr:"/ts" field:"ts" is_primary_key:true inference:<types:"string" string:<format:"date-time" > description:"Timestamp corresponding to the start of the transaction" exists:MUST > > ack_template_json:"{\"_meta\":{\"ack\":true,\"uuid\":\"DocUUIDPlaceholder-329Bb50aa48EAa9ef\"}}" partition_template:<name:"ops.us-central1.v1/logs/00ffffffffffffff" replication:3 labels:<labels:<name:"app.gazette.dev/managed-by" value:"estuary.dev/flow" > labels:<name:"content-type" value:"application/x-ndjson" > labels:<name:"estuary.dev/build" value:"7777777777777777" > labels:<name:"estuary.dev/collection" value:"ops.us-central1.v1/logs" > > fragment:<length:536870912 compression_codec:GZIP stores:"gs://example-bucket/" refresh_interval:<seconds:300 > path_postfix_template:"utc_date={{.Spool.FirstAppendTime.Format \"2006-01-02\"}}/utc_hour={{.Spool.FirstAppendTime.Format \"15\"}}" > flags:4 max_append_rate:4194304 > ),
  (*flow.CollectionSpec)(name:"ops.us-central1.v1/stats" write_schema_json:"{\"$defs\":{\"__flowInline1\":{\"$id\":\"builtin://flow/ops-catalog/ops-shard-schema.json\",\"$schema\":\"https://json-schema.org/draft-07/schema\",\"description\":\"Identifies a specific shard of a task, which may be the source of a log message or metrics\",\"properties\":{\"keyBegin\":{\"description\":\"The inclusive beginning of the shard's assigned key range\",\"pattern\":\"[0-9a-f]{8}\",\"type\":\"string\"},\"kind\":{\"description\":\"The type of the catalog task\",\"enum\":[\"capture\",\"derivation\",\"materialization\"]},\"name\":{\"description\":\"The name of the catalog task (without the task type prefix)\",\"type\":\"string\"},\"rClockBegin\":{\"description\":\"The inclusive beginning of the shard's assigned rClock range\",\"pattern\":\"[0-9a-f]{8}\",\"type\":\"string\"}},\"required\":[\"kind\",\"name\",\"keyBegin\",\"rClockBegin\"],\"title\":\"Flow shard id\",\"type\":\"object\"},\"docsAndBytes\":{\"properties\":{\"bytesTotal\":{\"default\":0,\"description\":\"Total number of bytes representing the JSON encoded documents\",\"reduce\":{\"strategy\":\"sum\"},\"type\":\"integer\"},\"docsTotal\":{\"default\":0,\"description\":\"Total number of documents\",\"reduce\":{\"strategy\":\"sum\"},\"type\":\"integer\"}},\"reduce\":{\"strategy\":\"merge\"},\"required\":[\"docsTotal\",\"bytesTotal\"],\"type\":\"object\"},\"transformStats\":{\"description\":\"Stats for a specific transform of a derivation, which will have an update, publish, or both.\",\"properties\":{\"input\":{\"$ref\":\"#/$defs/docsAndBytes\",\"description\":\"The input documents that were fed into this transform.\"},\"source\":{\"description\":\"The name of the collection that this transform sources from\",\"type\":\"string\"}},\"reduce\":{\"strategy\":\"merge\"},\"required\":[\"input\"],\"type\":\"object\"}},\"$id\":\"builtin://flow/ops-catalog/ops-stats-schema.json\",\"$schema\":\"https://json-schema.org/draft-07/schema\",\"description\":\"Statistics related to the processing of a Flow capture, derivation, or materialization\",\"properties\":{\"capture\":{\"additionalProperties\":{\"properties\":{\"out\":{\"$ref\":\"#/$defs/docsAndBytes\"},\"right\":{\"$ref\":\"#/$defs/docsAndBytes\",\"description\":\"Documents fed into the combiner from the source\"}},\"reduce\":{\"strategy\":\"merge\"},\"type\":\"object\"},\"description\":\"Capture stats, organized by collection. The keys of this object are the collection names, and the values are the stats for that collection.\",\"reduce\":{\"strategy\":\"merge\"},\"type\":\"object\"},\"derive\":{\"properties\":{\"out\":{\"$ref\":\"#/$defs/docsAndBytes\"},\"published\":{\"$ref\":\"#/$defs/docsAndBytes\"},\"transforms\":{\"additionalProperties\":{\"$ref\":\"#/$defs/transformStats\"},\"description\":\"A map of each transform (transform name, not collection name) to stats for that transform\",\"reduce\":{\"strategy\":\"merge\"},\"type\":\"object\"}},\"reduce\":{\"strategy\":\"merge\"},\"type\":\"object\"},\"interval\":{\"properties\":{\"uptimeSeconds\":{\"description\":\"Number of seconds that the task shard is metered as having been running\",\"minimum\":1,\"reduce\":{\"strategy\":\"sum\"},\"type\":\"integer\"},\"usageRate\":{\"default\":0,\"description\":\"Usage rate which adjusts `uptimeSeconds` to determine the task's effective usage\",\"minimum\":0,\"type\":\"number\"}},\"reduce\":{\"strategy\":\"merge\"},\"required\":[\"uptimeSeconds\"],\"type\":\"object\"},\"materialize\":{\"additionalProperties\":{\"properties\":{\"left\":{\"$ref\":\"#/$defs/docsAndBytes\"},\"out\":{\"properties\":{\"bytesTotal\":{\"default\":0,\"description\":\"Total number of bytes representing the JSON encoded documents\",\"reduce\":{\"strategy\":\"sum\"},\"type\":\"integer\"},\"docsTotal\":{\"default\":0,\"description\":\"Total number of documents\",\"reduce\":{\"strategy\":\"sum\"},\"type\":\"integer\"}},\"reduce\":{\"strategy\":\"merge\"},\"required\":[\"docsTotal\"],\"type\":\"object\"},\"right\":{\"$ref\":\"#/$defs/docsAndBytes\"}},\"reduce\":{\"strategy\":\"merge\"},\"type\":\"object\"},\"description\":\"A map of each binding source (collection name) to combiner stats for that binding\",\"reduce\":{\"strategy\":\"merge\"},\"type\":\"object\"},\"openSecondsTotal\":{\"description\":\"Total time that the transaction was open before starting to commit\",\"reduce\":{\"strategy\":\"sum\"},\"type\":\"number\"},\"shard\":{\"$ref\":\"ops-shard-schema.json\"},\"ts\":{\"description\":\"Timestamp corresponding to the start of the transaction\",\"format\":\"date-time\",\"type\":\"string\"},\"txnCount\":{\"description\":\"Total number of transactions represented by this stats document\",\"reduce\":{\"strategy\":\"sum\"},\"type\":\"integer\"}},\"reduce\":{\"strategy\":\"merge\"},\"required\":[\"shard\",\"ts\"],\"title\":\"Flow task stats\",\"type\":\"object\"}" key:"/shard/name" key:"/shard/keyBegin" key:"/shard/rClockBegin" key:"/ts" uuid_ptr:"/_meta/uuid" partition_fields:"kind" partition_fields:"name" projections:<ptr:"/_meta/flow_truncated" field:"_meta/flow_truncated" inference:<types:"boolean" title:"Flow truncation indicator" description:"Indicates whether any of the materialized values for this row have been truncated to make them fit inside the limitations of the destination system." exists:MUST > > projections:<ptr:"/capture" field:"capture" inference:<types:"object" description:"Capture stats, organized by collection. The keys of this object are the collection names, and the values are the stats for that collection." exists:MAY > > projections:<ptr:"/derive" field:"derive" inference:<types:"object" exists:MAY > > projections:<ptr:"/derive/out" field:"derive/out" inference:<types:"object" exists:MAY > > projections:<ptr:"/derive/out/bytesTotal" field:"derive/out/bytesTotal" inference:<types:"integer" description:"Total number of bytes representing the JSON encoded documents" default_json:"0" exists:MAY > > projections:<ptr:"/derive/out/docsTotal" field:"derive/out/docsTotal" inference:<types:"integer" description:"Total number of documents" default_json:"0" exists:MAY > > projections:<ptr:"/derive/published" field:"derive/published" inference:<types:"object" exists:MAY > > projections:<ptr:"/derive/published/bytesTotal" field:"derive/published/bytesTotal" inference:<types:"integer" description:"Total number of bytes representing the JSON encoded documents" default_json:"0" exists:MAY > > projections:<ptr:"/derive/published/docsTotal" field:"derive/published/docsTotal" inference:<types:"integer" description:"Total number of documents" default_json:"0" exists:MAY > > projections:<ptr:"/derive/transforms" field:"derive/transforms" inference:<types:"object" description:"A map of each transform (transform name, not collection name) to stats for that transform" exists:MAY > > projections:<field:"flow_document" inference:<types:"object" title:"Flow task stats" description:"Statistics related to the processing of a Flow capture, derivation, or materialization" exists:MUST > > projections:<ptr:"/_meta/uuid" field:"flow_published_at" inference:<types:"string" string:<format:"date-time" content_encoding:"uuid" > title:"Flow Publication Time" description:"Flow publication date-time of this document" exists:MUST > > projections:<ptr:"/interval" field:"interval" inference:<types:"object" exists:MAY > > projections:<ptr:"/interval/uptimeSeconds" field:"interval/uptimeSeconds" inference:<types:"integer" description:"Number of seconds that the task shard is metered as having been running" exists:MAY > > projections:<ptr:"/interval/usageRate" field:"interval/usageRate" inference:<types:"number" description:"Usage rate which adjusts `uptimeSeconds` to determine the task's effective usage" default_json:"0" exists:MAY > > projections:<ptr:"/shard/kind" field:"kind" explicit:true is_partition_key:true inference:<types:"string" string:<> description:"The type of the catalog task" exists:MUST > > projections:<ptr:"/materialize" field:"materialize" inference:<types:"object" description:"A map of each binding source (collection name) to combiner stats for that binding" exists:MAY > > projections:<ptr:"/shard/name" field:"name" explicit:true is_partition_key:true is_primary_key:true inference:<types:"string" string:<> description:"The name of the catalog task (without the task type prefix)" exists:MUST > > projections:<ptr:"/openSecondsTotal" field:"openSecondsTotal" inference:<types:"number" description:"Total time that the transaction was open before starting to commit" exists:MAY > > projections:<ptr:"/shard" field:"shard" inference:<types:"object" title:"Flow shard id" description:"Identifies a specific shard of a task, which may be the source of a log message or metrics" exists:MUST > > projections:<ptr:"/shard/keyBegin" field:"shard/keyBegin" is_primary_key:true inference:<types:"string" string:<> description:"The inclusive beginning of the shard's assigned key range" exists:MUST > > projections:<ptr:"/shard/kind" field:"shard/kind" inference:<types:"string" string:<> description:"The type of the catalog task" exists:MUST > > projections:<ptr:"/shard/name" field:"shard/name" is_primary_key:true inference:<types:"string" string:<> description:"The name of the catalog task (without the task type prefix)" exists:MUST > > projections:<ptr:"/shard/rClockBegin" field:"shard/rClockBegin" is_primary_key:true inference:<types:"string" string:<> description:"The inclusive beginning of the shard's assigned rClock range" exists:MUST > > projections:<ptr:"/ts" field:"ts" is_primary_key:true inference:<types:"string" string:<format:"date-time" > description:"Timestamp corresponding to the start of the transaction" exists:MUST > > projections:<ptr:"/txnCount" field:"txnCount" inference:<types:"integer" description:"Total number of transactions represented by this stats document" exists:MAY > > ack_template_json:"{\"_meta\":{\"ack\":true,\"uuid\":\"DocUUIDPlaceholder-329Bb50aa48EAa9ef\"}}" partition_template:<name:"ops.us-central1.v1/stats/00ffffffffffffff" replication:3 labels:<labels:<name:"app.gazette.dev/managed-by" value:"estuary.dev/flow" > labels:<name:"content-type" value:"application/x-ndjson" > labels:<name:"estuary.dev/build" value:"7777777777777777" > labels:<name:"estuary.dev/collection" value:"ops.us-central1.v1/stats" > > fragment:<length:536870912 compression_codec:GZIP stores:"gs://example-bucket/" refresh_interval:<seconds:300 > path_postfix_template:"utc_date={{.Spool.FirstAppendTime.Format \"2006-01-02\"}}/utc_hour={{.Spool.FirstAppendTime.Format \"15\"}}" > flags:4 max_append_rate:4194304 > )
}
