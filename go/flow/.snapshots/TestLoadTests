(flow.TestSpec) test:"Set soak-test update and verify" steps:<collection:"soak/set-ops/operations" collection_schema_uri:"/examples/soak-tests/set-ops/schema.yaml#/$defs/operation" collection_key_ptr:"/Author" collection_key_ptr:"/ID" collection_key_ptr:"/Op" collection_uuid_ptr:"/_meta/uuid" docs_json_lines:"{\"Author\":17369,\"ID\":0,\"Ones\":0,\"Op\":1,\"Type\":\"remove\",\"Values\":{\"K\":1,\"S\":1}}\n{\"Author\":17369,\"ID\":1,\"Ones\":1,\"Op\":1,\"Type\":\"add\",\"Values\":{\"H\":1,\"K\":1,\"M\":1,\"Q\":1,\"U\":1,\"V\":1}}\n{\"Author\":17369,\"ID\":1,\"Ones\":1,\"Op\":2,\"Type\":\"add\",\"Values\":{\"A\":1,\"C\":1,\"F\":1,\"L\":1,\"U\":1}}\n{\"Author\":17369,\"ID\":0,\"Ones\":0,\"Op\":2,\"Type\":\"add\",\"Values\":{\"J\":1,\"W\":1}}\n{\"Author\":17369,\"ID\":0,\"Ones\":0,\"Op\":3,\"TotalAdd\":1,\"TotalRemove\":1,\"Type\":\"verify\",\"Values\":{\"J\":1,\"W\":1}}\n{\"Author\":17369,\"ID\":2,\"Ones\":1,\"Op\":1,\"Type\":\"add\",\"Values\":{\"K\":1,\"T\":1}}\n{\"Author\":17369,\"ID\":2,\"Ones\":1,\"Op\":2,\"Type\":\"remove\",\"Values\":{\"A\":1,\"D\":1,\"F\":1,\"H\":1,\"K\":1,\"O\":1,\"P\":1}}\n{\"Author\":17369,\"ID\":2,\"Ones\":1,\"Op\":3,\"TotalAdd\":1,\"TotalRemove\":1,\"Type\":\"verify\",\"Values\":{\"T\":1}}\n{\"Author\":17369,\"ID\":1,\"Ones\":1,\"Op\":3,\"TotalAdd\":2,\"TotalRemove\":0,\"Type\":\"verify\",\"Values\":{\"A\":1,\"C\":1,\"F\":1,\"H\":1,\"K\":1,\"L\":1,\"M\":1,\"Q\":1,\"U\":2,\"V\":1}}" partitions:<include:<labels:<name:"estuary.dev/collection" value:"soak/set-ops/operations" > > exclude:<> > > steps:<step_type:VERIFY step_index:1 collection:"soak/set-ops/sets" collection_schema_uri:"/examples/soak-tests/set-ops/schema.yaml#/$defs/outputWithReductions" collection_key_ptr:"/Author" collection_key_ptr:"/ID" collection_uuid_ptr:"/_meta/uuid" docs_json_lines:"{\"AppliedAdd\":1,\"AppliedOps\":[1,2,3],\"AppliedRemove\":1,\"Author\":17369,\"Derived\":{\"add\":{\"J\":1,\"W\":1}},\"ExpectAdd\":1,\"ExpectRemove\":1,\"ExpectValues\":{\"J\":1,\"W\":1},\"ID\":0}\n{\"AppliedAdd\":2,\"AppliedOps\":[1,2,3],\"Author\":17369,\"Derived\":{\"add\":{\"A\":1,\"C\":1,\"F\":1,\"H\":1,\"K\":1,\"L\":1,\"M\":1,\"Q\":1,\"U\":2,\"V\":1}},\"ExpectAdd\":2,\"ExpectRemove\":0,\"ExpectValues\":{\"A\":1,\"C\":1,\"F\":1,\"H\":1,\"K\":1,\"L\":1,\"M\":1,\"Q\":1,\"U\":2,\"V\":1},\"ID\":1}\n{\"AppliedAdd\":1,\"AppliedOps\":[1,2,3],\"AppliedRemove\":1,\"Author\":17369,\"Derived\":{\"add\":{\"T\":1}},\"ExpectAdd\":1,\"ExpectRemove\":1,\"ExpectValues\":{\"T\":1},\"ID\":2}" partitions:<include:<labels:<name:"estuary.dev/collection" value:"soak/set-ops/sets" > > exclude:<> > > steps:<step_type:VERIFY step_index:2 collection:"soak/set-ops/sets-register" collection_schema_uri:"/examples/soak-tests/set-ops/schema.yaml#/$defs/output" collection_key_ptr:"/Author" collection_key_ptr:"/ID" collection_uuid_ptr:"/_meta/uuid" docs_json_lines:"{\"AppliedAdd\":1,\"AppliedOps\":[1,2,3],\"AppliedRemove\":1,\"Author\":17369,\"Derived\":{\"add\":{\"J\":1,\"W\":1}},\"ExpectAdd\":1,\"ExpectRemove\":1,\"ExpectValues\":{\"J\":1,\"W\":1},\"ID\":0}\n{\"AppliedAdd\":2,\"AppliedOps\":[1,2,3],\"Author\":17369,\"Derived\":{\"add\":{\"A\":1,\"C\":1,\"F\":1,\"H\":1,\"K\":1,\"L\":1,\"M\":1,\"Q\":1,\"U\":2,\"V\":1}},\"ExpectAdd\":2,\"ExpectRemove\":0,\"ExpectValues\":{\"A\":1,\"C\":1,\"F\":1,\"H\":1,\"K\":1,\"L\":1,\"M\":1,\"Q\":1,\"U\":2,\"V\":1},\"ID\":1}\n{\"AppliedAdd\":1,\"AppliedOps\":[1,2,3],\"AppliedRemove\":1,\"Author\":17369,\"Derived\":{\"add\":{\"T\":1}},\"ExpectAdd\":1,\"ExpectRemove\":1,\"ExpectValues\":{\"T\":1},\"ID\":2}" partitions:<include:<labels:<name:"estuary.dev/collection" value:"soak/set-ops/sets-register" > > exclude:<> > > 
