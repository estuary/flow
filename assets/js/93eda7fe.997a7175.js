"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[8815],{28453:(e,t,s)=>{s.d(t,{R:()=>i,x:()=>d});var a=s(96540);const n={},r=a.createContext(n);function i(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),a.createElement(r.Provider,{value:t},e.children)}},41881:(e,t,s)=>{s.d(t,{A:()=>a});const a=s.p+"assets/images/azure-iam-1-5970bfe9c9425c0ac5aea8d5bd2a956b.png"},53328:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"guides/iam-auth/azure","title":"Azure IAM Authentication","description":"Estuary supports IAM authentication with Azure services such as Azure SQL and Azure Storage using an application created by you which has access to the resources, and has trusted identity tokens signed by us as the OIDC (OpenID Connect) provider. Note however that not all connectors currently support using IAM authentication.","source":"@site/docs/guides/iam-auth/azure.md","sourceDirName":"guides/iam-auth","slug":"/guides/iam-auth/azure","permalink":"/guides/iam-auth/azure","draft":false,"unlisted":false,"editUrl":"https://github.com/estuary/flow/edit/master/site/docs/guides/iam-auth/azure.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"AWS IAM Authentication","permalink":"/guides/iam-auth/aws"},"next":{"title":"Google Cloud IAM Authentication","permalink":"/guides/iam-auth/gcp"}}');var n=s(74848),r=s(28453);const i={},d="Azure IAM Authentication",c={},o=[{value:"App Registration with Resource Access",id:"app-registration-with-resource-access",level:2},{value:"Federated Credentials",id:"federated-credentials",level:2}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"azure-iam-authentication",children:"Azure IAM Authentication"})}),"\n",(0,n.jsx)(t.p,{children:"Estuary supports IAM authentication with Azure services such as Azure SQL and Azure Storage using an application created by you which has access to the resources, and has trusted identity tokens signed by us as the OIDC (OpenID Connect) provider. Note however that not all connectors currently support using IAM authentication."}),"\n",(0,n.jsx)(t.h2,{id:"app-registration-with-resource-access",children:"App Registration with Resource Access"}),"\n",(0,n.jsxs)(t.p,{children:["You need to have an Azure App Registration set up which has access to the resource you are trying to authenticate with. Follow the guide ",(0,n.jsx)(t.a,{href:"https://learn.microsoft.com/en-us/entra/identity-platform/quickstart-register-app",children:"here"})," to register an application has access to your resource."]}),"\n",(0,n.jsx)(t.h2,{id:"federated-credentials",children:"Federated Credentials"}),"\n",(0,n.jsx)(t.p,{children:"Next, you need to create a Federated Credential by heading to Certificates & Secrets section of your app, and creating a new provider."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Add Federated Credential",src:s(41881).A+"",width:"2614",height:"1138"})}),"\n",(0,n.jsxs)(t.p,{children:["The subject should be set to your task name while the ",(0,n.jsx)(t.strong,{children:"issuer"})," will depend on your chosen data plane in Estuary."]}),"\n",(0,n.jsx)(t.p,{children:"To find the correct issuer value:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Navigate to the ",(0,n.jsx)(t.a,{href:"https://dashboard.estuary.dev/admin",children:"Admin section"})," of your Estuary dashboard."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Select the ",(0,n.jsx)(t.strong,{children:"Settings"})," tab."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Find the ",(0,n.jsx)(t.strong,{children:"Data Planes"})," table and make sure you're viewing the correct tab for your data plane (either ",(0,n.jsx)(t.strong,{children:"public"})," or ",(0,n.jsx)(t.strong,{children:"private"}),")."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Copy the value from the ",(0,n.jsx)(t.strong,{children:"IAM OIDC"})," column. This should look something like: ",(0,n.jsx)(t.code,{children:"https://openid.estuary.dev/your-data-plane-identifier.dp.estuary-data.com/"})]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"For example, these are the issuer values for a few common public data planes:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Data Plane"}),(0,n.jsx)(t.th,{children:"Issuer"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"US east-1 AWS data plane"}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"https://openid.estuary.dev/aws-us-east-1-c1.dp.estuary-data.com/",children:"https://openid.estuary.dev/aws-us-east-1-c1.dp.estuary-data.com/"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"US central-1 GCP data plane"}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"https://openid.estuary.dev/gcp-us-central1-c2.dp.estuary-data.com/",children:"https://openid.estuary.dev/gcp-us-central1-c2.dp.estuary-data.com/"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"US west-2 AWS data plane"}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"https://openid.estuary.dev/aws-us-west-2-c1.dp.estuary-data.com/",children:"https://openid.estuary.dev/aws-us-west-2-c1.dp.estuary-data.com/"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"EU west-1 AWS data plane"}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"https://openid.estuary.dev/aws-eu-west-1-c1.dp.estuary-data.com/",children:"https://openid.estuary.dev/aws-eu-west-1-c1.dp.estuary-data.com/"})})]})]})]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Add Federated Credential",src:s(58946).A+"",width:"1816",height:"1542"})}),"\n",(0,n.jsx)(t.p,{children:"Now take note of the Application ID and Tenant ID of your App Registration and use it when configuring Azure IAM."})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},58946:(e,t,s)=>{s.d(t,{A:()=>a});const a=s.p+"assets/images/azure-iam-2-7319f4e88e03d4c03c8d5e44ac40c3b2.png"}}]);