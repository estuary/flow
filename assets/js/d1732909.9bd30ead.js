"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[8814],{28453:(e,s,t)=>{t.d(s,{R:()=>a,x:()=>o});var n=t(96540);const i={},r=n.createContext(i);function a(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(r.Provider,{value:s},e.children)}},71623:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>a,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"getting-started/sso-setup","title":"Log into Estuary Using SSO","description":"You can register or log into the Estuary dashboard with one of several methods. Sign in with either:","source":"@site/docs/getting-started/sso-setup.md","sourceDirName":"getting-started","slug":"/getting-started/sso-setup","permalink":"/getting-started/sso-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/estuary/flow/edit/master/site/docs/getting-started/sso-setup.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Implementing Derivations for AcmeBank","permalink":"/getting-started/tutorials/derivations_acmebank"},"next":{"title":"Support","permalink":"/getting-started/support"}}');var i=t(74848),r=t(28453);const a={},o="Log into Estuary Using SSO",d={},l=[{value:"Initial SSO Setup",id:"initial-sso-setup",level:2},{value:"Add SSO Users to Your Tenant",id:"add-sso-users-to-your-tenant",level:2},{value:"Estuary SSO Details",id:"estuary-sso-details",level:2}];function h(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"log-into-estuary-using-sso",children:"Log into Estuary Using SSO"})}),"\n",(0,i.jsxs)(s.p,{children:["You can register or log into the ",(0,i.jsx)(s.a,{href:"https://dashboard.estuary.dev/",children:"Estuary dashboard"})," with one of several methods. Sign in with either:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"A Google account"}),"\n",(0,i.jsx)(s.li,{children:"A GitHub account"}),"\n",(0,i.jsx)(s.li,{children:"An Azure account"}),"\n",(0,i.jsx)(s.li,{children:"SSO (Single Sign-On)"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"While a Google, GitHub, or Azure account won't require additional configuration, there is a short setup process if you'd like to use SSO through another provider."}),"\n",(0,i.jsx)(s.h2,{id:"initial-sso-setup",children:"Initial SSO Setup"}),"\n",(0,i.jsxs)(s.p,{children:["To enable the SSO option on Estuary's end, ",(0,i.jsx)(s.a,{href:"mailto:support@estuary.dev",children:"contact support"})," and provide the following information:"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Metadata URL or Metadata XML File"})}),"\n",(0,i.jsx)(s.p,{children:"Using the metadata URL is the preferred method of configuring SSO. However, if your provider doesn't support metadata URLs, you may send a metadata XML file instead."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Company Domain"})}),"\n",(0,i.jsx)(s.p,{children:"Provide the domain(s) used for your company's email addresses."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["You will also need to configure SSO with your identity provider on your end. See ",(0,i.jsx)(s.a,{href:"#estuary-sso-details",children:"the list of details"})," below for information on Estuary that you can share with your identity provider."]}),"\n",(0,i.jsxs)(s.p,{children:["After SSO is fully enabled for your domain, you may log into Estuary via the ",(0,i.jsx)(s.a,{href:"https://dashboard.estuary.dev/sso/login",children:"SSO login page"})," and create your tenant. This login flow is also accessible via the main sign in page."]}),"\n",(0,i.jsx)(s.h2,{id:"add-sso-users-to-your-tenant",children:"Add SSO Users to Your Tenant"}),"\n",(0,i.jsx)(s.p,{children:"You may invite additional members of your company to collaborate with you. Estuary supports Just-In-Time account creation rather than SCIM: a user account is generated on first login. Therefore, new users and the tenant admin will need to follow the steps below."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"New user"})}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["A new user should enter their email to sign in via the ",(0,i.jsx)(s.a,{href:"https://dashboard.estuary.dev/sso/login",children:"SSO login page"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Estuary will redirect to your provider for the user to authenticate."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"When the login flow redirects back to Estuary, the new user will need to read and accept Estuary's terms of service."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["The new user should ",(0,i.jsx)(s.strong,{children:"NOT"})," create a new tenant."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Tenant admin"})}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Meanwhile, the tenant admin can sign into their Estuary dashboard and navigate to the ",(0,i.jsx)(s.strong,{children:"Admin"})," tab."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Under ",(0,i.jsx)(s.a,{href:"/concepts/web-app#account-access",children:"Account Access"}),", in the ",(0,i.jsx)(s.strong,{children:"Organization Membership"})," section, click the ",(0,i.jsx)(s.strong,{children:"Add Users"})," button."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Choose your desired prefix (such as your entire tenant or a defined subset), capability (admin or read access), and type (multi- or single-use). Then create an invite link."}),"\n",(0,i.jsx)(s.p,{children:"You can create an invite link for each user you wish to invite to your tenant or you can reuse a shared, multi-use link."}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Securely share the link with the new user."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"When the new user follows the invite link, they will be added to your tenant with the specified permissions."}),"\n",(0,i.jsx)(s.h2,{id:"estuary-sso-details",children:"Estuary SSO Details"}),"\n",(0,i.jsxs)(s.p,{children:["Estuary runs SSO authentication through Supabase. You can view more information about Supabase's SSO capabilities ",(0,i.jsx)(s.a,{href:"https://supabase.com/docs/guides/auth/enterprise-sso/auth-sso-saml",children:"here"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"This means that Estuary uses SAML 2.0 for authentication. Estuary's SAML 2.0 URLs are as follows:"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Name"}),(0,i.jsx)(s.th,{children:"Value"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"EntityID"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"https://eyrcnmuzzyriypdajwdk.supabase.co/auth/v1/sso/saml/metadata"})})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Metadata URL"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"https://eyrcnmuzzyriypdajwdk.supabase.co/auth/v1/sso/saml/metadata"})})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Metadata URL (download)"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"https://eyrcnmuzzyriypdajwdk.supabase.co/auth/v1/sso/saml/metadata?download=true"})})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"ACS URL"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"https://eyrcnmuzzyriypdajwdk.supabase.co/auth/v1/sso/saml/acs"})})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"SLO URL"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"https://eyrcnmuzzyriypdajwdk.supabase.co/auth/v1/sso/slo"})})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"NameID"})}),(0,i.jsxs)(s.td,{children:["Required ",(0,i.jsx)(s.code,{children:"emailAddress"})," or ",(0,i.jsx)(s.code,{children:"persistent"})]})]})]})]}),"\n",(0,i.jsx)(s.admonition,{title:"Alternative Names",type:"info",children:(0,i.jsx)(s.p,{children:'The Metadata URL is also known as the "Audience URL" or "SP Entity ID" while, in Okta, the ACS (Assertion Consumer Service) URL is also referred to as the "Single Sign-on URL."'})}),"\n",(0,i.jsxs)(s.p,{children:["Note that sending the email address back is ",(0,i.jsx)(s.strong,{children:"required"}),". You may return it with the ",(0,i.jsx)(s.code,{children:"email"})," key or, if preferred, one of the other ",(0,i.jsx)(s.a,{href:"https://supabase.com/docs/guides/auth/enterprise-sso/auth-sso-saml#why-do-some-users-get-saml-assertion-does-not-contain-email-address",children:"attribute names"})," that Supabase supports."]}),"\n",(0,i.jsxs)(s.p,{children:["Optionally, you may also return a ",(0,i.jsx)(s.code,{children:"displayName"})," attribute with the user's first and last name as a single string."]})]})}function c(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);