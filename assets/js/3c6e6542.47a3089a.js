"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[9779],{27827:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>x,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"reference/Connectors/capture-connectors/OracleDB/OracleDB","title":"OracleDB","description":"This connector captures data from OracleDB into Flow collections using Oracle Logminer.","source":"@site/docs/reference/Connectors/capture-connectors/OracleDB/OracleDB.md","sourceDirName":"reference/Connectors/capture-connectors/OracleDB","slug":"/reference/Connectors/capture-connectors/OracleDB/","permalink":"/reference/Connectors/capture-connectors/OracleDB/","draft":false,"unlisted":false,"editUrl":"https://github.com/estuary/flow/edit/master/site/docs/reference/Connectors/capture-connectors/OracleDB/OracleDB.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Notion","permalink":"/reference/Connectors/capture-connectors/notion"},"next":{"title":"Oracle Batch Query Connector","permalink":"/reference/Connectors/capture-connectors/OracleDB/oracle-batch"}}');var t=s(74848),a=s(28453),i=s(13554),c=s.n(i);const l={},o="OracleDB",d={},h=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Setup",id:"setup",level:2},{value:"Create a Dedicated User",id:"create-a-dedicated-user",level:3},{value:"Non-container Databases",id:"non-container-databases",level:2},{value:"Container Databases",id:"container-databases",level:2},{value:"Include Schemas for Discovery",id:"include-schemas-for-discovery",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Properties",id:"properties",level:3},{value:"Endpoint",id:"endpoint",level:4},{value:"Bindings",id:"bindings",level:4},{value:"Sample",id:"sample",level:3},{value:"Dictionary Modes",id:"dictionary-modes",level:3},{value:"Incremental SCN Range and Events Rate",id:"incremental-scn-range-and-events-rate",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Known Limitations",id:"known-limitations",level:2}];function u(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"oracledb",children:"OracleDB"})}),"\n",(0,t.jsxs)(n.p,{children:["This connector captures data from OracleDB into Flow collections using ",(0,t.jsx)(n.a,{href:"https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-2555A155-01E3-483E-9FC6-2BDC2D8A4093",children:"Oracle Logminer"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["It is available for use in the Flow web application. For local development or open-source workflows, ",(0,t.jsx)(n.a,{href:"https://ghcr.io/estuary/source-oracle:dev",children:(0,t.jsx)(n.code,{children:"ghcr.io/estuary/source-oracle:dev"})})," provides the latest version of the connector as a Docker image. You can also follow the link in your browser to see past image versions."]}),"\n",(0,t.jsx)(c(),{controls:!0,url:"https://www.youtube.com/watch?v=mE7LFSqfwY8"}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Oracle 11g or above"}),"\n",(0,t.jsx)(n.li,{children:"Allow connections from Estuary Flow to your Oracle database (if they exist in separate VPCs)"}),"\n",(0,t.jsx)(n.li,{children:"Create a dedicated read-only Estuary Flow user with access to all tables needed for replication"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,t.jsx)(n.p,{children:"Follow the steps below to set up the OracleDB connector."}),"\n",(0,t.jsx)(n.h3,{id:"create-a-dedicated-user",children:"Create a Dedicated User"}),"\n",(0,t.jsx)(n.p,{children:"Creating a dedicated database user with read-only access is recommended for better permission control and auditing. Depending on whether your database is a container database (also known as CDB) or not, follow the corresponding section below."}),"\n",(0,t.jsx)(n.h2,{id:"non-container-databases",children:"Non-container Databases"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"To create the user, run the following commands against your database:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"CREATE USER estuary_flow_user IDENTIFIED BY <your_password_here>;\nGRANT CREATE SESSION TO estuary_flow_user;\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"Next, grant the user read-only access to the relevant tables. The simplest way is to grant read access to all tables in the schema as follows:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"GRANT SELECT ANY TABLE TO estuary_flow_user;\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:"Alternatively, you can be more granular and grant access to specific tables in different schemas:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:'GRANT SELECT ON "<schema_a>"."<table_1>" TO estuary_flow_user;\nGRANT SELECT ON "<schema_b>"."<table_2>" TO estuary_flow_user;\n'})}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsx)(n.li,{children:"Create a watermarks table:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE estuary_flow_user.FLOW_WATERMARKS(SLOT varchar(1000) PRIMARY KEY, WATERMARK varchar(4000));\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:"Grant the user access to use logminer, read metadata from the database and write to the watermarks table:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"GRANT SELECT_CATALOG_ROLE TO estuary_flow_user;\nGRANT EXECUTE_CATALOG_ROLE TO estuary_flow_user;\nGRANT SELECT ON V$DATABASE TO estuary_flow_user;\nGRANT SELECT ON V$LOG TO estuary_flow_user;\nGRANT LOGMINING TO estuary_flow_user;\n\nGRANT INSERT, UPDATE ON estuary_flow_user.FLOW_WATERMARKS TO estuary_flow_user;\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"6",children:["\n",(0,t.jsx)(n.li,{children:"Enable supplemental logging:"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"For normal instances use:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;\n"})}),"\n",(0,t.jsx)(n.p,{children:"For Amazon RDS instances use:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"BEGIN rdsadmin.rdsadmin_util.alter_supplemental_logging(p_action => 'ADD', p_type   => 'ALL'); end;\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"7",children:["\n",(0,t.jsx)(n.li,{children:"Ensure user has quota on the USERS tablespace:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"ALTER USER estuary_flow_user QUOTA UNLIMITED ON USERS;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"container-databases",children:"Container Databases"}),"\n",(0,t.jsx)(n.p,{children:"For working with container databases, access to the root container is necessary. Amazon RDS Oracle databases do not allow access to the root container and so they do not work if configured as a multi-tenant architecture database (whether single-tenant or multi-tenant)."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["To create a common user (requires ",(0,t.jsx)(n.code,{children:"c##"})," prefix in the name of the user), run the following commands against your database:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"CREATE USER c##estuary_flow_user IDENTIFIED BY <your_password_here> CONTAINER=ALL;\nGRANT CREATE SESSION TO c##estuary_flow_user CONTAINER=ALL;\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"Next, grant the user read-only access to the relevant tables. The simplest way is to grant read access to all tables in the schema as follows:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"GRANT SELECT ANY TABLE TO c##estuary_flow_user CONTAINER=ALL;\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsx)(n.li,{children:"Alternatively, you can be more granular and grant access to specific tables in different schemas (run in the root container):"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:'GRANT SELECT ON "<schema_a>"."<table_1>" TO c##estuary_flow_user CONTAINER=ALL;\nGRANT SELECT ON "<schema_b>"."<table_2>" TO c##estuary_flow_user CONTAINER=ALL;\n'})}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsx)(n.li,{children:"Create a watermarks table (the table should be in the PDB)"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE c##estuary_flow_user.FLOW_WATERMARKS(SLOT varchar(1000) PRIMARY KEY, WATERMARK varchar(4000));\nGRANT INSERT, UPDATE ON c##estuary_flow_user.FLOW_WATERMARKS TO c##estuary_flow_user CONTAINER=ALL;\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:"Finally you need to grant the user access to use logminer, read metadata from the database and write to the watermarks table:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"GRANT SELECT_CATALOG_ROLE TO c##estuary_flow_user CONTAINER=ALL;\nGRANT EXECUTE_CATALOG_ROLE TO c##estuary_flow_user CONTAINER=ALL;\nGRANT LOGMINING TO c##estuary_flow_user CONTAINER=ALL;\nGRANT ALTER SESSION TO c##estuary_flow_user CONTAINER=ALL;\nGRANT SET CONTAINER TO c##estuary_flow_user CONTAINER=ALL;\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:"Enable supplemental logging:"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"For normal instances use:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"6",children:["\n",(0,t.jsx)(n.li,{children:"Ensure user has quota on the USERS tablespace:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"ALTER USER c##estuary_flow_user QUOTA UNLIMITED ON USERS;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"include-schemas-for-discovery",children:"Include Schemas for Discovery"}),"\n",(0,t.jsx)(n.p,{children:"In your Oracle configuration, you can specify the schemas that Flow should look at when discovering tables. The schema names are case-sensitive. If the user does not have access to a certain schema, no tables from that schema will be discovered."}),"\n",(0,t.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["You configure connectors either in the Flow web app, or by directly editing the catalog specification file. See ",(0,t.jsx)(n.a,{href:"https://docs.estuary.dev/concepts/connectors/#using-connectors",children:"connectors"})," to learn more about using connectors. The values and specification sample below provide configuration details specific to the OracleDB source connector."]}),"\n",(0,t.jsx)(n.p,{children:"To allow secure connections via SSH tunneling:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Follow the guide to ",(0,t.jsx)(n.a,{href:"/guides/connect-network/",children:"configure an SSH server for tunneling"})]}),"\n",(0,t.jsxs)(n.li,{children:["When you configure your connector as described in the ",(0,t.jsx)(n.a,{href:"#configuration",children:"configuration"})," section above, including the additional ",(0,t.jsx)(n.code,{children:"networkTunnel"})," configuration to enable the SSH tunnel. See ",(0,t.jsx)(n.a,{href:"/concepts/connectors#connecting-to-endpoints-on-secure-networks",children:"Connecting to endpoints on secure networks"})," for additional details and a sample."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(n.h4,{id:"endpoint",children:"Endpoint"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Title"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Required/Default"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/address"})}),(0,t.jsx)(n.td,{children:"Address"}),(0,t.jsxs)(n.td,{children:["The host or host",":port"," at which the database can be reached."]}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Required"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/user"})}),(0,t.jsx)(n.td,{children:"Username"}),(0,t.jsx)(n.td,{children:"The database user to authenticate as."}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Required"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/password"})}),(0,t.jsx)(n.td,{children:"Password"}),(0,t.jsx)(n.td,{children:"Password for the specified database user."}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Required"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/database"})}),(0,t.jsx)(n.td,{children:"Database"}),(0,t.jsx)(n.td,{children:"Logical database name to capture from. Defaults to ORCL. In multi-container environments use the PDB name."}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Required"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/historyMode"})}),(0,t.jsx)(n.td,{children:"History Mode"}),(0,t.jsx)(n.td,{children:"Capture change events without reducing them to a final state."}),(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/advanced/skip_backfills"})}),(0,t.jsx)(n.td,{children:"Skip Backfills"}),(0,t.jsx)(n.td,{children:"A comma-separated list of fully-qualified table names which should not be backfilled."}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/advanced/watermarksTable"})}),(0,t.jsx)(n.td,{children:"Watermarks Table"}),(0,t.jsx)(n.td,{children:"The name of the table used for watermark writes during backfills. Must be fully-qualified in '<schema>.table' form."}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"&lt;USER&gt;.FLOW_WATERMARKS"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/advanced/backfill_chunk_size"})}),(0,t.jsx)(n.td,{children:"Backfill Chunk Size"}),(0,t.jsx)(n.td,{children:"The number of rows which should be fetched from the database in a single backfill query."}),(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"50000"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/advanced/incremental_chunk_size"})}),(0,t.jsx)(n.td,{children:"Incremental Chunk Size"}),(0,t.jsx)(n.td,{children:"The number of rows which should be fetched from the database in a single incremental query."}),(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"10000"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/advanced/incremental_scn_range"})}),(0,t.jsx)(n.td,{children:"Incremental SCN Range"}),(0,t.jsx)(n.td,{children:"The SCN range captured at every iteration."}),(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"50000"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/advanced/dictionary_mode"})}),(0,t.jsx)(n.td,{children:"Dictionary Mode"}),(0,t.jsx)(n.td,{children:"How should dictionaries be used in Logminer: one of online or extract. When using online mode schema changes to the table may break the capture but resource usage is limited. When using extract mode schema changes are handled gracefully but more resources of your database (including disk) are used by the process. Defaults to extract."}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"extract"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/advanced/discover_schemas"})}),(0,t.jsx)(n.td,{children:"Discover Schemas"}),(0,t.jsx)(n.td,{children:"If this is specified only tables in the selected schema(s) will be automatically discovered. Omit all entries to discover tables from all schemas."}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/advanced/node_id"})}),(0,t.jsx)(n.td,{children:"Node ID"}),(0,t.jsx)(n.td,{children:"Node ID for the capture. Each node in a replication cluster must have a unique 32-bit ID. The specific value doesn't matter so long as it is unique. If unset or zero the connector will pick a value."}),(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"bindings",children:"Bindings"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Title"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Required/Default"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"/namespace"})})}),(0,t.jsx)(n.td,{children:"Namespace"}),(0,t.jsxs)(n.td,{children:["The ",(0,t.jsx)(n.a,{href:"https://docs.oracle.com/database/121/CNCPT/intro.htm#CNCPT940",children:"owner/schema"})," of the table."]}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Required"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"/stream"})})}),(0,t.jsx)(n.td,{children:"Stream"}),(0,t.jsx)(n.td,{children:"Table name."}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Required"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"sample",children:"Sample"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'captures:\n  ${PREFIX}/${CAPTURE_NAME}:\n    endpoint:\n      connector:\n        image: ghcr.io/estuary/source-oracle:dev\n        config:\n          address: database-1.ukqdmzdqvvsz.us-east-2.rds.amazonaws.com:1521\n          user: "flow_capture"\n          password: secret\n          database: ORCL\n          historyMode: false\n          advanced:\n            incremental_scn_range: 50000\n            dictionary_mode: extract\n          networkTunnel:\n            sshForwarding:\n              privateKey: -----BEGIN RSA PRIVATE KEY-----\\n...\n              sshEndpoint: ssh://ec2-user@19.220.21.33:22\n\n    bindings:\n      - resource:\n          namespace: ${TABLE_NAMESPACE}\n          stream: ${TABLE_NAME}\n        target: ${PREFIX}/${COLLECTION_NAME}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"dictionary-modes",children:"Dictionary Modes"}),"\n",(0,t.jsxs)(n.p,{children:['Oracle writes redo log files using triplet object ID, data object ID and object versions to identify different objects in the database, rather than their name. This applies to table names as well as column names. When reading data from the redo log files using Logminer, a "dictionary" is used to translate the object identification data into user-facing names of those objects. When interacting with the database directly an ',(0,t.jsx)(n.em,{children:"online"})," dictionary, which is essentially the latest dictionary that knows how to translate currently existing table and column names is used by the database and by Logminer, however when capturing historical data, it is possible that the names of these objects or even their identifiers have changed (due to an ",(0,t.jsx)(n.code,{children:"ALTER TABLE"})," statement for example). In these instances the ",(0,t.jsx)(n.em,{children:"online"})," dictionary will be insufficient for translating the object identifiers into names and Logminer will complain about a dictionary mismatch."]}),"\n",(0,t.jsxs)(n.p,{children:["To resolve this issue, it is possible to ",(0,t.jsx)(n.em,{children:"extract"})," a dictionary into the redo log files themselves, so that when there are schema changes, Logminer can automatically handle using the appropriate dictionary for the time period an event is from. This operation however uses CPU and RAM, as well as consuming disk over time."]}),"\n",(0,t.jsx)(n.p,{children:"Using Estuary's Oracle connector you get to choose which mode to operate it:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["To extract the dictionary into the redo log files, the ",(0,t.jsx)(n.code,{children:"extract"})," mode can be used (this is the default mode). Be aware that this mode leads to more resource usage (CPU, RAM and disk)."]}),"\n",(0,t.jsxs)(n.li,{children:["To always use the online dictionary, the ",(0,t.jsx)(n.code,{children:"online"})," mode can be used. This mode is more efficient, but it cannot handle schema changes in tables, so only use this mode with caution and when table schemas are known not to change."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"incremental-scn-range-and-events-rate",children:"Incremental SCN Range and Events Rate"}),"\n",(0,t.jsxs)(n.p,{children:["At every iteration, the connector fetches changes in a specific SCN (System Change Number) range, this is roughly equivalent to a specific time range. Depending on how many events happen on the captured tables in a database (by default, a 50,000 range is captured in each iteration), the ",(0,t.jsx)(n.code,{children:"advanced.incremental_scn_range"})," option can be updated to fit your needs:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["If the database processes a large amount of events per unit of time, the connector and/or the database may experience resource shortages while trying to process the data. For example you may see the error ",(0,t.jsx)(n.code,{children:"PGA memory used by the instance exceeds PGA_AGGREGATE_LIMIT"})," which indicates that the memory usage of the database instance has hit a limit. This can happen if too many events are being processed in one iteration. In these cases we recommend lowering the SCN range until the database and the connector are able to handle the load."]}),"\n",(0,t.jsx)(n.li,{children:"If the database does not have many events per time unit, a higher value can help with faster processing, although this is usually not necessary."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"If you see the following error when trying to connect:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"ORA-01950: no privileges on tablespace 'USERS'\n"})}),"\n",(0,t.jsx)(n.p,{children:"The SQL command below may resolve the issue:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"ALTER USER estuary_flow_user QUOTA UNLIMITED ON USERS;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"known-limitations",children:"Known Limitations"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Table and column names longer than 30 characters are not supported by Logminer, and thus they are also not supported by this connector."}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}}}]);