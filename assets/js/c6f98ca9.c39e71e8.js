"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[878],{28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>c});var t=r(96540);const i={},s=t.createContext(i);function l(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(s.Provider,{value:n},e.children)}},73992:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/airtable-add-last-modified-time-field-da1395bf5ff2459469c9beec9b6639ad.png"},79445:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"reference/Connectors/capture-connectors/airtable-native","title":"Airtable","description":"This connector captures data from Airtable into Flow collections.","source":"@site/docs/reference/Connectors/capture-connectors/airtable-native.md","sourceDirName":"reference/Connectors/capture-connectors","slug":"/reference/Connectors/capture-connectors/airtable-native","permalink":"/reference/Connectors/capture-connectors/airtable-native","draft":false,"unlisted":false,"editUrl":"https://github.com/estuary/flow/edit/master/site/docs/reference/Connectors/capture-connectors/airtable-native.md","tags":[],"version":"current","frontMatter":{},"sidebar":"referenceSidebar","previous":{"title":"Aircall","permalink":"/reference/Connectors/capture-connectors/aircall"},"next":{"title":"Airtable (deprecated)","permalink":"/reference/Connectors/capture-connectors/airtable"}}');var i=r(74848),s=r(28453);const l={},c="Airtable",a={},o=[{value:"Supported data resources",id:"supported-data-resources",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Authentication",id:"authentication",level:3},{value:"Setup",id:"setup",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Properties",id:"properties",level:3},{value:"Endpoint",id:"endpoint",level:4},{value:"Bindings",id:"bindings",level:4},{value:"Sample",id:"sample",level:3},{value:"Incremental Replication",id:"incremental-replication",level:2},{value:"Formula Fields",id:"formula-fields",level:2},{value:"Formula Field Errors",id:"formula-field-errors",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"airtable",children:"Airtable"})}),"\n",(0,i.jsx)(n.p,{children:"This connector captures data from Airtable into Flow collections."}),"\n",(0,i.jsxs)(n.p,{children:["It is available for use in the Flow web application. For local development or open-source workflows, ",(0,i.jsx)(n.a,{href:"https://ghcr.io/estuary/source-airtable-native:dev",children:(0,i.jsx)(n.code,{children:"ghcr.io/estuary/source-airtable-native:dev"})})," provides the latest version of the connector as a Docker image. You can also follow the link in your browser to see past image versions."]}),"\n",(0,i.jsx)(n.h2,{id:"supported-data-resources",children:"Supported data resources"}),"\n",(0,i.jsx)(n.p,{children:"This connector captures data from accessible bases and tables in an Airtable account. All available tables will appear after connecting to Airtable."}),"\n",(0,i.jsxs)(n.p,{children:["Resources are named using the pattern ",(0,i.jsx)(n.code,{children:"{base_name}/{table_name}/{table_id}"}),"."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"If you rename a base or table in Airtable, the connector treats the renamed resource as a new resource. The connector stops populating collections under the old name and begins populating new collections with the updated name."})}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(n.h3,{id:"authentication",children:"Authentication"}),"\n",(0,i.jsxs)(n.p,{children:["Capturing data from Airtable requires an active Airtable account and an ",(0,i.jsx)(n.a,{href:"https://airtable.com/developers/web/guides/personal-access-tokens#creating-a-token",children:"access token"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"setup",children:"Setup"}),"\n",(0,i.jsx)(n.p,{children:"To create an access token, do the following:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Log into your Airtable account."}),"\n",(0,i.jsx)(n.li,{children:'In the navigation bar, click on "Builder Hub".'}),"\n",(0,i.jsx)(n.li,{children:'In the "Developers" section, click on "Personal access tokens".'}),"\n",(0,i.jsx)(n.li,{children:'Click on "Create token".'}),"\n",(0,i.jsxs)(n.li,{children:["Give your token a name and add the following scopes:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"data.records:read"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"data.recordComments:read"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"schema.bases:read"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:'Under the "Access" section, choose the bases you want to capture data from.'}),"\n",(0,i.jsx)(n.li,{children:'Click on "Create token".'}),"\n",(0,i.jsx)(n.li,{children:"Copy the token for use in the connector configuration."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsxs)(n.p,{children:["You configure connectors either in the Flow web app, or by directly editing the catalog specification file.\nSee ",(0,i.jsx)(n.a,{href:"/concepts/connectors#using-connectors",children:"connectors"})," to learn more about using connectors. The values and specification sample below provide configuration details specific to the Airtable source connector."]}),"\n",(0,i.jsx)(n.h3,{id:"properties",children:"Properties"}),"\n",(0,i.jsx)(n.h4,{id:"endpoint",children:"Endpoint"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Property"}),(0,i.jsx)(n.th,{children:"Title"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required/Default"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"/credentials/access_token"})})}),(0,i.jsx)(n.td,{children:"Access Token"}),(0,i.jsx)(n.td,{children:"The Airtable access token."}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"/credentials/credentials_title"})})}),(0,i.jsx)(n.td,{children:"Authentication Method"}),(0,i.jsxs)(n.td,{children:["Name of the credentials set. Set to ",(0,i.jsx)(n.code,{children:"Private App Credentials"}),"."]}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Required"})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"bindings",children:"Bindings"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Property"}),(0,i.jsx)(n.th,{children:"Title"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Required/Default"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"/name"})})}),(0,i.jsx)(n.td,{children:"Data resource"}),(0,i.jsx)(n.td,{children:"Name of the data resource."}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Required"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/interval"})}),(0,i.jsx)(n.td,{children:"Interval"}),(0,i.jsx)(n.td,{children:"Interval between data syncs"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/schedule"})}),(0,i.jsx)(n.td,{children:"Formula Field Refresh Schedule"}),(0,i.jsxs)(n.td,{children:["The schedule for refreshing this binding's ",(0,i.jsx)(n.a,{href:"#formula-fields",children:"formula fields"}),". Accepts a cron expression. For example, a schedule of ",(0,i.jsx)(n.code,{children:"55 23 * * *"})," means the binding will refresh formula fields at 23:55 UTC every day. If left empty, the binding will not refresh formula fields."]}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"55 23 * * *"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"sample",children:"Sample"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"captures:\n  ${PREFIX}/${CAPTURE_NAME}:\n    endpoint:\n      connector:\n        image: ghcr.io/estuary/source-airtable-native:dev\n        config:\n          credentials:\n            credentials_title: Private App Credentials\n            access_token: <secret>\n    bindings:\n      - resource:\n          name: base_name/table_name/table_id\n        target: ${PREFIX}/base_name/table_name/table_id\n      {...}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"incremental-replication",children:"Incremental Replication"}),"\n",(0,i.jsxs)(n.p,{children:["Tables that include a ",(0,i.jsx)(n.code,{children:"lastModifiedTime"})," field are replicated incrementally, meaning only new and updated records are captured after the initial sync. Tables without this field are replicated using full refreshes, where all records are fetched on every sync."]}),"\n",(0,i.jsxs)(n.p,{children:["To enable incremental replication for a table, add a ",(0,i.jsx)(n.code,{children:"lastModifiedTime"})," field:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Click the ",(0,i.jsx)(n.strong,{children:"+"})," icon (Add field) in your table."]}),"\n",(0,i.jsxs)(n.li,{children:["Select ",(0,i.jsx)(n.strong,{children:"Last modified time"})," as the field type."]}),"\n",(0,i.jsx)(n.li,{children:"Enter a name for the field."}),"\n",(0,i.jsxs)(n.li,{children:["In the ",(0,i.jsx)(n.strong,{children:"Fields"})," section, select ",(0,i.jsx)(n.strong,{children:"All editable fields"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["In the ",(0,i.jsx)(n.strong,{children:"Formatting"})," section, select ",(0,i.jsx)(n.strong,{children:"Include time"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Create field"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:r(73992).A+"",width:"1344",height:"1020"})}),"\n",(0,i.jsx)(n.h2,{id:"formula-fields",children:"Formula Fields"}),"\n",(0,i.jsxs)(n.p,{children:["Airtable tables can contain ",(0,i.jsx)(n.a,{href:"https://support.airtable.com/docs/formula-field-overview",children:"formula fields"}),", fields whose values are calculated at query time. Formula field updates do not cause ",(0,i.jsx)(n.code,{children:"lastModifiedTime"})," fields to change. Since the connector uses ",(0,i.jsx)(n.code,{children:"lastModifiedTime"})," fields to incrementally detect changes, formula field updates are not incrementally captured."]}),"\n",(0,i.jsxs)(n.p,{children:["To address this challenge, the Airtable connector is able to refresh the values of formula fields on a schedule after the initial backfill completes. This is controlled at a binding level by the cron expression in the ",(0,i.jsxs)(n.a,{href:"#bindings",children:[(0,i.jsx)(n.code,{children:"schedule"})," property"]}),". When a scheduled formula field refresh occurs, the connector fetches every record's current formula field values and merges them into the associated collection using ",(0,i.jsxs)(n.a,{href:"/reference/reduction-strategies/merge",children:[(0,i.jsx)(n.code,{children:"merge"})," reduction strategies"]}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"formula-field-errors",children:"Formula Field Errors"}),"\n",(0,i.jsxs)(n.p,{children:["The connector omits formula fields containing ",(0,i.jsx)(n.a,{href:"https://support.airtable.com/docs/common-formula-errors-and-how-to-fix-them",children:"error codes"})," to avoid schema evolution that would widen column types in downstream materializations."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);