"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[8815],{28453:(e,t,a)=>{a.d(t,{R:()=>i,x:()=>c});var s=a(96540);const n={},r=s.createContext(n);function i(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(r.Provider,{value:t},e.children)}},41881:(e,t,a)=>{a.d(t,{A:()=>s});const s=a.p+"assets/images/azure-iam-1-5970bfe9c9425c0ac5aea8d5bd2a956b.png"},46881:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"guides/iam-auth/azure","title":"Azure IAM Authentication","description":"Flow supports IAM authentication with Azure services such as Azure SQL and Azure Storage using an application created by you which has access to the resources, and has trusted identity tokens signed by us as the OIDC (OpenID Connect) provider. Note however that not all connectors currently support using IAM authentication.","source":"@site/docs/guides/iam-auth/azure.md","sourceDirName":"guides/iam-auth","slug":"/guides/iam-auth/azure","permalink":"/guides/iam-auth/azure","draft":false,"unlisted":false,"editUrl":"https://github.com/estuary/flow/edit/master/site/docs/guides/iam-auth/azure.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"AWS IAM Authentication","permalink":"/guides/iam-auth/aws"},"next":{"title":"Google Cloud IAM Authentication","permalink":"/guides/iam-auth/gcp"}}');var n=a(74848),r=a(28453);const i={},c="Azure IAM Authentication",o={},d=[{value:"App Registration with Resource Access",id:"app-registration-with-resource-access",level:2},{value:"Federated Credentials",id:"federated-credentials",level:2}];function u(e){const t={a:"a",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"azure-iam-authentication",children:"Azure IAM Authentication"})}),"\n",(0,n.jsx)(t.p,{children:"Flow supports IAM authentication with Azure services such as Azure SQL and Azure Storage using an application created by you which has access to the resources, and has trusted identity tokens signed by us as the OIDC (OpenID Connect) provider. Note however that not all connectors currently support using IAM authentication."}),"\n",(0,n.jsx)(t.h2,{id:"app-registration-with-resource-access",children:"App Registration with Resource Access"}),"\n",(0,n.jsxs)(t.p,{children:["You need to have an Azure App Registration set up which has access to the resource you are trying to authenticate with. Follow the guide ",(0,n.jsx)(t.a,{href:"https://learn.microsoft.com/en-us/entra/identity-platform/quickstart-register-app",children:"here"})," to register an application has access to your resource."]}),"\n",(0,n.jsx)(t.h2,{id:"federated-credentials",children:"Federated Credentials"}),"\n",(0,n.jsx)(t.p,{children:"Next, you need to create a Federated Credential by heading to Certificates & Secrets section of your app, and creating a new provider with the subject set to your task name and the issuer set to one of the following values:"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.img,{alt:"Add Federated Credential",src:a(41881).A+"",width:"2614",height:"1138"}),"\n",(0,n.jsx)(t.img,{alt:"Add Federated Credential",src:a(58946).A+"",width:"1816",height:"1542"})]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Data Plane"}),(0,n.jsx)(t.th,{children:"Issuer"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"US central-1 GCP data plane"}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"https://openid.estuary.dev/gcp-us-central1-c2.dp.estuary-data.com/",children:"https://openid.estuary.dev/gcp-us-central1-c2.dp.estuary-data.com/"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"EU west-1 AWS data plane"}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.a,{href:"https://openid.estuary.dev/aws-eu-west-1-c1.dp.estuary-data.com/",children:"https://openid.estuary.dev/aws-eu-west-1-c1.dp.estuary-data.com/"})})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"Now take note of the Application ID and Tenant ID of your App Registration and use it when configuring Azure IAM."})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},58946:(e,t,a)=>{a.d(t,{A:()=>s});const s=a.p+"assets/images/azure-iam-2-7319f4e88e03d4c03c8d5e44ac40c3b2.png"}}]);