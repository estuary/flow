"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[612],{31265:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>l,default:()=>x,frontMatter:()=>a,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"reference/Connectors/materialization-connectors/azure-fabric-warehouse","title":"Microsoft Azure Fabric Warehouse","description":"This connector materializes Flow collections into tables in Microsoft Azure","source":"@site/docs/reference/Connectors/materialization-connectors/azure-fabric-warehouse.md","sourceDirName":"reference/Connectors/materialization-connectors","slug":"/reference/Connectors/materialization-connectors/azure-fabric-warehouse","permalink":"/reference/Connectors/materialization-connectors/azure-fabric-warehouse","draft":false,"unlisted":false,"editUrl":"https://github.com/estuary/flow/edit/master/site/docs/reference/Connectors/materialization-connectors/azure-fabric-warehouse.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Apache Parquet Files in Azure Blob Storage","permalink":"/reference/Connectors/materialization-connectors/azure-blob-parquet"},"next":{"title":"Google BigQuery","permalink":"/reference/Connectors/materialization-connectors/BigQuery"}}');var i=n(74848),s=n(28453),c=n(13554),o=n.n(c);const a={},l="Microsoft Azure Fabric Warehouse",d={},h=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Properties",id:"properties",level:3},{value:"Endpoint",id:"endpoint",level:4},{value:"Bindings",id:"bindings",level:4},{value:"Sample",id:"sample",level:3},{value:"Sync Schedule",id:"sync-schedule",level:2},{value:"Delta updates",id:"delta-updates",level:2}];function u(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"microsoft-azure-fabric-warehouse",children:"Microsoft Azure Fabric Warehouse"})}),"\n",(0,i.jsx)(r.p,{children:"This connector materializes Flow collections into tables in Microsoft Azure\nFabric Warehouse."}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.a,{href:"https://ghcr.io/estuary/materialize-azure-fabric-warehouse:dev",children:(0,i.jsx)(r.code,{children:"ghcr.io/estuary/materialize-azure-fabric-warehouse:dev"})}),"\nprovides the latest connector image. You can also follow the link in your\nbrowser to see past image versions."]}),"\n",(0,i.jsx)(o(),{controls:!0,url:"https://www.youtube.com/watch?v=_aPyCWLciDs"}),"\n",(0,i.jsx)(r.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(r.p,{children:"To use this connector, you'll need:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["The connection string for a ",(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/fabric/data-warehouse/create-warehouse",children:"Fabric\nWarehouse"}),".\nSee\n",(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/fabric/data-warehouse/connectivity#retrieve-the-sql-connection-string",children:"instructions"}),"\nfor finding the connection string."]}),"\n",(0,i.jsxs)(r.li,{children:["A service principal for connecting to the warehouse. The ",(0,i.jsx)(r.strong,{children:"Client ID"})," and\n",(0,i.jsx)(r.strong,{children:"Client Secret"})," are needed to configure the connector.","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Follow ",(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/entra/identity-platform/howto-create-service-principal-portal",children:"this\nguide"}),"\nto register a Microsoft Entra app and create a service principal. Use\n",(0,i.jsx)(r.strong,{children:"Option 3: Create a new client secret"})," to create the service principal and\nsave its client secret."]}),"\n",(0,i.jsxs)(r.li,{children:["Follow ",(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/fabric/data-warehouse/entra-id-authentication#tenant-setting",children:"these\ninstructions"}),"\nfor enabling service principal access to Fabric APIs."]}),"\n",(0,i.jsxs)(r.li,{children:["Assign the service principal the ",(0,i.jsx)(r.strong,{children:"Contributor"})," role for the workspace as\ndescribed\n",(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/fabric/data-warehouse/entra-id-authentication#workspace-setting",children:"here"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["A ",(0,i.jsx)(r.strong,{children:"Storage Account Key"})," for a storage account that will be used to store\ntemporary staging files that will be loaded into your warehouse. Follow ",(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/azure/storage/common/storage-account-create",children:"this\nguide"}),"\nto create a storage account. You can find your storage account key using\n",(0,i.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/azure/storage/common/storage-account-keys-manage?tabs=azure-portal#view-account-access-keys",children:"these\ninstructions"}),"."]}),"\n",(0,i.jsx)(r.li,{children:"The name of the container within the storage account for storing staging\nfiles."}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(r.p,{children:"Use the below properties to configure the materialization, which will direct one or more of your\nFlow collections to your tables."}),"\n",(0,i.jsx)(r.h3,{id:"properties",children:"Properties"}),"\n",(0,i.jsx)(r.h4,{id:"endpoint",children:"Endpoint"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Property"}),(0,i.jsx)(r.th,{children:"Title"}),(0,i.jsx)(r.th,{children:"Description"}),(0,i.jsx)(r.th,{children:"Type"}),(0,i.jsx)(r.th,{children:"Required/Default"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.code,{children:"/clientID"})})}),(0,i.jsx)(r.td,{children:"Client ID"}),(0,i.jsx)(r.td,{children:"Client ID for the service principal used to connect to the Azure Fabric Warehouse. services."}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{children:"Required"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.code,{children:"/clientSecret"})})}),(0,i.jsx)(r.td,{children:"Client Secret"}),(0,i.jsx)(r.td,{children:"Client Secret for the service principal used to connect to the Azure Fabric Warehouse. services."}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{children:"Required"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.code,{children:"/warehouse"})})}),(0,i.jsx)(r.td,{children:"Warehouse"}),(0,i.jsx)(r.td,{children:"Name of the Azure Fabric Warehouse to connect to."}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{children:"Required"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.code,{children:"/schema"})})}),(0,i.jsx)(r.td,{children:"Schema"}),(0,i.jsx)(r.td,{children:"Schema for bound collection tables (unless overridden within the binding resource configuration) as well as associated materialization metadata tables."}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{children:"Required"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.code,{children:"/connectionString"})})}),(0,i.jsx)(r.td,{children:"Connection String"}),(0,i.jsx)(r.td,{children:"SQL connection string for the Azure Fabric Warehouse."}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{children:"Required"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.code,{children:"/storageAccountName"})})}),(0,i.jsx)(r.td,{children:"Storage Account Name"}),(0,i.jsx)(r.td,{children:"Name of the storage account that temporary files will be written to."}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{children:"Required"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.code,{children:"/storageAccountKey"})})}),(0,i.jsx)(r.td,{children:"Storage Account Key"}),(0,i.jsx)(r.td,{children:"Storage account key for the storage account that temporary files will be written to."}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{children:"Required"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.code,{children:"/containerName"})})}),(0,i.jsx)(r.td,{children:"Storage Account Container Name"}),(0,i.jsx)(r.td,{children:"Name of the container in the storage account where temporary files will be written."}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{children:"Required"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"/directory"})}),(0,i.jsx)(r.td,{children:"Directory"}),(0,i.jsx)(r.td,{children:"Optional prefix that will be used for temporary files."}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{})]})]})]}),"\n",(0,i.jsx)(r.h4,{id:"bindings",children:"Bindings"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Property"}),(0,i.jsx)(r.th,{children:"Title"}),(0,i.jsx)(r.th,{children:"Description"}),(0,i.jsx)(r.th,{children:"Type"}),(0,i.jsx)(r.th,{children:"Required/Default"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.code,{children:"/table"})})}),(0,i.jsx)(r.td,{children:"Table"}),(0,i.jsx)(r.td,{children:"Table name"}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{children:"Required"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"/schema"})}),(0,i.jsx)(r.td,{children:"Alternative Schema"}),(0,i.jsx)(r.td,{children:"Alternative schema for this table"}),(0,i.jsx)(r.td,{children:"string"}),(0,i.jsx)(r.td,{})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"/delta_updates"})}),(0,i.jsx)(r.td,{children:"Delta updates"}),(0,i.jsxs)(r.td,{children:["Whether to use standard or ",(0,i.jsx)(r.a,{href:"#delta-updates",children:"delta updates"})]}),(0,i.jsx)(r.td,{children:"boolean"}),(0,i.jsx)(r.td,{})]})]})]}),"\n",(0,i.jsx)(r.h3,{id:"sample",children:"Sample"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",children:'materializations:\n  ${PREFIX}/${mat_name}:\n    endpoint:\n      connector:\n        image: "ghcr.io/estuary/materialize-azure-fabric-warehouse:dev"\n        config:\n          clientID: <client-id>\n          clientSecret: <client-secret>\n          connectionString: <connection-string>\n          containerName: storage-container\n          hardDelete: false\n          schema: main\n          storageAccountKey: <storage-key>\n          storageAccountName: storagename\n          warehouse: estuary-wh\n    bindings:\n      - resource:\n          table: ${COLLECTION_NAME}\n        source: ${PREFIX}/${COLLECTION_NAME}\n'})}),"\n",(0,i.jsx)(r.h2,{id:"sync-schedule",children:"Sync Schedule"}),"\n",(0,i.jsxs)(r.p,{children:["This connector supports configuring a schedule for sync frequency. You can read\nabout how to configure this ",(0,i.jsx)(r.a,{href:"/reference/materialization-sync-schedule",children:"here"}),"."]}),"\n",(0,i.jsx)(r.h2,{id:"delta-updates",children:"Delta updates"}),"\n",(0,i.jsxs)(r.p,{children:["This connector supports both standard (merge) and ",(0,i.jsx)(r.a,{href:"/concepts/materialization#delta-updates",children:"delta\nupdates"}),". The default is to\nuse standard updates."]}),"\n",(0,i.jsx)(r.p,{children:"Enabling delta updates will prevent Flow from querying for documents in your\ntables, which can reduce latency and costs for large datasets. If you're certain\nthat all events will have unique keys, enabling delta updates is a simple way to\nimprove performance with no effect on the output. However, enabling delta\nupdates is not suitable for all workflows, as the resulting table won't be fully\nreduced."})]})}function x(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}}}]);